!function(){window.Hauser={User:{parseObjectFromLocalStorage:function(a){return obj=localStorage.getItem(a),null==obj?null:JSON.parse(obj)},setData:function(a){localStorage.setItem("HauserServerId",a.server_id),localStorage.setItem("HauserUser",JSON.stringify(a)),a.houses&&(a.houses.confirmed&&(a.houses.confirmed.length>0?localStorage.setItem("HauserConfirmedHouses",JSON.stringify(a.houses.confirmed)):localStorage.removeItem("HauserConfirmedHouses")),a.houses.unconfirmed&&(a.houses.unconfirmed.length>0?localStorage.setItem("HauserUnconfirmedHouses",JSON.stringify(a.houses.unconfirmed)):localStorage.removeItem("HauserUnconfirmedHouses")),a.houses.current_house&&localStorage.setItem("HauserCurrentHouse",JSON.stringify(a.houses.current_house)))},unconfirmed_houses:function(){return this.parseObjectFromLocalStorage("HauserUnconfirmedHouses")},current:function(){return this.parseObjectFromLocalStorage("HauserUser")},current_house:function(){return this.parseObjectFromLocalStorage("HauserCurrentHouse")},logOut:function(){return localStorage.removeItem("HauserUser"),localStorage.removeItem("HauserServerId"),localStorage.removeItem("HauserConfirmedHouses"),localStorage.removeItem("HauserUnconfirmedHouses"),localStorage.removeItem("HauserCurrentHouse"),"logged_out"}},initPushwoosh:function(){var a=window.plugins.pushNotification;document.addEventListener("push-notification",function(b){var c=b.notification;alert(c.aps.alert),a.setApplicationIconBadgeNumber(0)}),a.onDeviceReady({pw_appid:"7EAD8-1A096"}),a.registerDevice(function(a){a.deviceToken},function(a){alert(JSON.stringify(["failed to register ",a]))}),a.setApplicationIconBadgeNumber(0)}}}(),this.app=angular.module("hauser",["templates-main","ionic","ionic.service.core","ionic.service.push","ngCordova","ui-notification","ion-autocomplete","angularMoment","firebase","pascalprecht.translate"]),app.run(["$ionicPlatform",function(a){return a.ready(function(){return window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault(),window.cordova,void 0})}]),app.run(["$rootScope","$stateParams","$state",function(a,b,c){return a.$on("$stateChangeStart",function(a,b){var d,e;if(e=function(b){return c.go(b),a.preventDefault()},"test"===b.name)return c.go("test");if(d=Hauser.User.current()){if(b.data.house_verification&&!d.houses.current_house)return e("menu.notifications");if(!b.data.authenticate)return e("menu.feed")}else if(b.data.authenticate)return e("landing.home")})}]),angular.module("templates-main",["landing/landing.home.tpl.html","landing/landing.login.tpl.html","landing/landing.signup.tpl.html","landing/landing.tpl.html","menu/_activities/feed-detail.tpl.html","menu/_activities/feed.tpl.html","menu/_activities/modals/comment.tpl.html","menu/_activities/modals/new.tpl.html","menu/bookings/bookings.tpl.html","menu/bookings/facilities/facilities.tpl.html","menu/bookings/facilities/facilities_booking.tpl.html","menu/bookings/modals/booking-show.tpl.html","menu/categories/documents/tab-board.tpl.html","menu/categories/documents/tab-info.tpl.html","menu/categories/documents/tab-material.tpl.html","menu/categories/documents/tabs.tpl.html","menu/categories/reportcontact/reportcontact.tpl.html","menu/groups/index.tpl.html","menu/groups/new.tpl.html","menu/help/help.tpl.html","menu/house_verification/house_verification.tpl.html","menu/inbox/inbox.tpl.html","menu/inbox/new.tpl.html","menu/inbox/show.tpl.html","menu/menu.tpl.html","menu/notifications/index.tpl.html","user/user.confirm_address.tpl.html","user/user.tpl.html"]),angular.module("landing/landing.home.tpl.html",[]).run(["$templateCache",function(a){a.put("landing/landing.home.tpl.html",'<ion-content overflow-scroll=\'true\'>\n</ion-content>\n<section class=\'bottom-section\'>\n  <div class="padding center carousel">\n    <ion-slide-box>\n      <ion-slide>\n        <div><img class=\'carousel-item\' src="assets/images/locations_text@3x.jpg"></img></div>\n      </ion-slide>\n      <ion-slide>\n        <div><img class=\'carousel-item\' src="assets/images/help_us_grow@3x.jpg"></img></div>\n      </ion-slide>\n      <ion-slide>\n        <div><img class=\'carousel-item\' src="assets/images/stay_updated@3x.jpg"></img></div>\n      </ion-slide>\n    </ion-slide-box>\n  </div>\n</section>\n<ion-footer-bar align-title="left" class="footer-actions">\n  <div class=\'button-bar\'>\n    <a class="button button-positive" ui-sref="landing.signup">\n      <strong>{{ \'Sign_up\' | translate }}</strong>\n    </a>\n    <a class="button button-stable" ui-sref="landing.login">\n      <strong>{{ \'Sign_in\' | translate }}</strong>\n    </a>\n  </div>\n</ion-footer-bar>\n')}]),angular.module("landing/landing.login.tpl.html",[]).run(["$templateCache",function(a){a.put("landing/landing.login.tpl.html",'<ion-content overflow-scroll=\'true\'>\n    <a class="button button-icon ion-ios-close-empty back-button" ui-sref=\'landing.home\'>\n    </a>\n</ion-content>\n<section class=\'bottom-section\' style="margin-bottom:0px">\n    <form name="signinForm">\n        <div class="list">\n            <label class="item title">\n                <strong>{{ \'Sign_in\' | translate }}</strong>\n            </label>\n            <label class="item item-input">\n                <span class="input-label">{{ \'Email\' | translate }}</span>\n                <input type="email" ng-model="user.email">\n            </label>\n            <label class="item item-input">\n                <span class="input-label">{{ \'Password\' | translate }}</span>\n                <input type="password" ng-model="user.password">\n            </label>\n        </div>\n    </form>\n    <div class=\'padding sign-in-block\'>\n        <div class="row" style="padding:0px">\n            <div style="padding:0px" class="col col-80 col-offset-10"><button class="button button-block button-small button-energized" ng-click="signIn(user)">{{ \'Sign_in\' | translate }}</button></div>\n        </div>\n        <div class="row" style="padding:0px">\n            <div style="padding:0px" class="col col-80 col-offset-10"><button class="button button-block button-small button-positive" ng-click="signInWithFacebook()">{{ \'Sign_in_with_Facebook\' | translate }}</button></div>\n        </div>\n        <div>\n'+"            {{ 'By_signing_in_you_agree_to_our' | translate }} <a>{{ 'Terms_of_Use' | translate }}</a> {{ 'and' | translate }} <a>{{ 'Privacy_Policy' | translate }}</a>\n        </div>\n    </div>\n</section>\n<!-- <ion-footer-bar class=\"footer-actions\">\n    <div class='button-bar'>\n        <a ng-if='!submitting' class=\"button button-energized\">\n            <strong>Sign in</strong>\n        </a>\n        <a ng-if='!submitting' class=\"button button-positive\" ng-click=\"signInWithFacebook()\">\n            <strong>Sign in with Facebook</strong>\n        </a>\n        <a ng-if='submitting' class=\"button button-positive\">\n            <strong>Submitting...</strong>\n        </a>\n    </div>\n</ion-footer-bar> -->")}]),angular.module("landing/landing.signup.tpl.html",[]).run(["$templateCache",function(a){a.put("landing/landing.signup.tpl.html",'<ion-content overflow-scroll=\'true\'>\n    <a class="button button-icon ion-ios-close-empty back-button" ui-sref=\'landing.home\'>\n    </a>\n</ion-content>\n<section class=\'bottom-section\' style="margin-bottom:0">\n    <form name=\'signupForm\'>\n        <div class="list">\n            <label class="item title">\n                <strong>{{ \'Sign_up\' | translate }}</strong>\n            </label>\n            <label class="item item-input">\n                <span class="input-label">{{ \'First_name\' | translate }}</span>\n                <input type="text" ng-model="user.first_name">\n            </label>\n            <label class="item item-input">\n                <span class="input-label">{{ \'Last_name\' | translate }}</span>\n                <input type="text" ng-model="user.last_name">\n            </label>\n            <label class="item item-input">\n                <span class="input-label">{{ \'Email\' | translate }}</span>\n                <input type="email" ng-model="user.email">\n            </label>\n            <label class="item item-input">\n                <span class="input-label">{{ \'Password\' | translate }}</span>\n                <input type="password" ng-model="user.password">\n            </label>\n            <label class="item item-input">\n                <span class="input-label">{{ \'Password\' | translate }} ({{ \'again\' | translate }})</span>\n                <input type="password" ng-model="user.password_confirmation">\n            </label>\n<!--             <label class="item item-input">\n                <span class="input-label">Phone</span>\n                <input type="tel" ng-model="user.phone">\n            </label> -->\n        </div>\n    </form>\n    <div class=\'padding sign-in-block\'>\n        <div class="row" style="padding:0px">\n            <div style="padding:0px" class="col col-80 col-offset-10">\n                <button class="button button-small button-block button-energized" ng-click="signUp(user)">{{ \'Sign_up\' | translate }}</button>\n            </div>\n        </div>\n        <div class="row" style="padding:0px">\n            <div style="padding:0px" class="col col-80 col-offset-10">\n                <button class="button button-small button-block button-positive" ng-click="signUpWithFacebook()">{{ \'Sign_up_with_Facebook\' | translate }}</button>\n            </div>\n        </div>\n        <div>\n'+"            {{ 'By_signing_in_you_agree_to_our' | translate }} <a>{{ 'Terms_of_Use' | translate }}</a> {{ 'and' | translate }} <a>{{ 'Privacy_Policy' | translate }}</a>\n        </div>\n    </div>\n</section>\n<!-- <ion-footer-bar align-title=\"left\" class=\"footer-actions\">\n    <div class='button-bar'>\n        <a ng-if='!submitting' class=\"button button-energized\">\n            <strong>Sign up</strong>\n        </a>\n        <a ng-if='!submitting' class=\"button button-positive\" ng-click=\"signUpWithFacebook()\">\n            <strong>Sign up with Facebook</strong>\n        </a>\n\n        <a ng-if='submitting' class=\"button button-positive\">\n        Submitting...\n    </a>\n    </div>\n</ion-footer-bar> -->")}]),angular.module("landing/landing.tpl.html",[]).run(["$templateCache",function(a){a.put("landing/landing.tpl.html",'<ion-view hide-nav-bar="true">\n  <ion-pane id=\'landingPage\'>\n    <div data-ui-view=""></div>\n  </ion-pane>\n</ion-view>\n')}]),angular.module("menu/_activities/feed-detail.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/_activities/feed-detail.tpl.html",'<ion-view view-title="{{view_title}}" cache-view="false">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-more" ng-click="clickMoreBtn()"></div>\n    </ion-nav-buttons>\n    <ion-content class="has-footer">\n        <div class="list card" ng-if="feed">\n            <div class="item item-avatar">\n                <img ng-src="{{::feed.content.from.avatar}}">\n                <h2>{{::feed.content.from.name}}</h2>\n                <p am-time-ago="::feed.created_at"></p>\n            </div>\n            <div class="item item-body">\n                <img class="full-image" ng-src="{{feed.images[0]}}" ng-if="feed.images">\n                <img class="full-image" ng-src="{{::feed.content.imageUrl}}" ng-if="::feed.content.imageUrl">\n                <p>\n                    <p>{{::feed.content.text}}</p>\n                    <p>\n                        <a class="subdued">{{feed.total_likes}} {{ \'Likes\' | translate }}</a>\n                        <a class="subdued">{{feed.total_comments}} {{ \'Comments\' | translate }}</a>\n                    </p>\n            </div>\n        </div>\n        <div class="card list" ng-if="comments.length > 0">\n            <a class="item item-avatar item-icon-right" ng-repeat="comment in comments">\n                <img ng-src="{{::comment.user_avatar}}">\n                <h2>{{::comment.user_name}}</h2>\n                <p>{{::comment.content}}</p>\n                <p am-time-ago="::comment.created_at"></p>\n            </a>\n        </div>\n    </ion-content>\n    <div class="bar bar-footer item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="text" placeholder="{{ \'Send_a_comment\' | translate }}" ng-model="new_comment">\n        </label>\n        <button class="button button-clear" ng-click="send_new_comment()">{{ \'Comment\' | translate }}</button>\n    </div>\n</ion-view>')}]),angular.module("menu/_activities/feed.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/_activities/feed.tpl.html",'<ion-view view-title="{{::view_title}}" cache-view="false">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-plus-empty" ng-click="newFeedBtnDidClicked()"></div>\n    </ion-nav-buttons>\n    <ion-content>\n        <ion-refresher pulling-text="Pull to refresh..." on-refresh="fetchFeeds(1)">\n        </ion-refresher>\n        <div class="card" ng-if="feeds.length == 0">\n            <div class="item item-text-wrap">\n                {{ \'There_is_no_content_yet.\' | translate }} <a ng-click="newFeedBtnDidClicked()">{{ \'Click_here\' | translate }}</a> {{ \'to_create_new_content\' | translate }}\n            </div>\n        </div>\n        <div class="list card" ng-repeat="feed in feeds">\n            <div class="item item-avatar">\n                <img ng-src="{{::feed.content.from.avatar}}">\n                <h2>{{::feed.content.from.name}}</h2>\n                <p am-time-ago="::feed.created_at"></p>\n            </div>\n            <div class="item item-body" ui-sref="menu.feed-detail({feed_id: feed.id})">\n                <img class="full-image" ng-src="{{feed.images[0]}}" ng-if="feed.images">\n                <img class="full-image" ng-src="{{::feed.content.imageUrl}}" ng-if="::feed.content.imageUrl">\n                <p>\n                    <p>{{::feed.content.text}}</p>\n                    <p>\n                        <a class="subdued">{{feed.total_likes}} {{ \'Likes\' | translate }}</a>\n                        <a class="subdued">{{feed.total_comments}} {{ \'Comments\' | translate }}</a>\n                    </p>\n            </div>\n            <div class="item tabs tabs-secondary tabs-icon-left">\n                <a class="tab-item" ng-click="like_feed(feed)">\n                    <i class="icon ion-thumbsup"></i> {{ \'Like\' | translate }}\n                </a>\n                <a class="tab-item" ng-click="comment_feed(feed)">\n                    <i class="icon ion-chatbox"></i> {{ \'Comment\' | translate }}\n                </a>\n            </div>\n        </div>\n        <ion-infinite-scroll on-infinite="loadMoreFeeds()" distance="1%" ng-if"!feeds_reach_the_final_page">\n        </ion-infinite-scroll>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/_activities/modals/comment.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/_activities/modals/comment.tpl.html",'<ion-modal-view>\n    <ion-header-bar>\n        <h1 class="title">{{ \'Comments\' | translate }}</h1>\n        <button class="button button-icon button-clear ion-ios-close-empty" ng-click="closeModal()"></button>\n    </ion-header-bar>\n    <ion-content delegate-handle="comment_modal_content" class="has-footer">\n        <div class="list">\n            <a class="item item-avatar item-icon-right" ng-repeat="comment in modal.comments">\n                <img ng-src="{{::comment.user_avatar}}">\n                <h2>{{::comment.user_name}}</h2>\n                <p>{{::comment.content}}</p>\n                <p am-time-ago="::comment.created_at"></p>\n            </a>\n        </div>\n    </ion-content>\n    <div class="bar bar-footer item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="text" placeholder="{{ \'Send_a_comment\' | translate }}" ng-model="modal.new_comment">\n        </label>\n        <button class="button button-clear" ng-click="modal.send_new_comment()">{{ \'Comment\' | translate }}</button>\n    </div>\n</ion-modal-view>')}]),angular.module("menu/_activities/modals/new.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/_activities/modals/new.tpl.html",'<ion-modal-view>\n    <ion-header-bar>\n        <button class="button button-icon button-clear ion-ios-arrow-left" ng-click="closeModal()"></button>\n        <h1 class="title" ng-if=\'!modal.submitting\'>{{ \'New\' | translate }}</h1>\n        <h1 class="title" ng-if=\'modal.submitting\'>{{ \'Submitting\' | translate }} ...</h1>\n        <button class="button button-clear button-icon ion-ios-paperplane" ng-click="modal.submitNewFeed(modal.feed)"></button>\n    </ion-header-bar>\n    <ion-content>\n        <form name=\'signupForm\' ng-submit="modal.submitNewFeed(modal.feed)">\n            <div class="list">\n                <!--                 <label class="item item-input">\n                    <span class="input-label">Title</span>\n                    <input type="text" name=\'title\' ng-model="modal.feed.content.title">\n                </label> -->\n                <!--                 <label class="item item-input">\n                    <span class="input-label">Text</span>\n                    <input type="text" ng-model="modal.feed.content.text">\n                </label> -->\n                <label class="item item-input item-stacked-label">\n                    <textarea style="height:100px;" ng-model=\'modal.feed.content.text\' placeholder="What\'s on your mind?"></textarea>\n                </label>\n                <label class="item item-input" ng-if="!modal.is_photo_upload_ready">\n                    <span class="input-label">{{ \'Photo_Url\' | translate }}</span>\n                    <input type="text" name=\'description\' ng-model="modal.feed.imageUrl">\n                </label>\n                <input type="submit" id="submit" value="Submit" style="opacity:0;height:0px;margin:0;padding:0" />\n            </div>\n        </form>\n        <!--         <div class="row" style="padding:0;margin:0"> -->\n        <div class="row" style="padding:0;margin:0" ng-if="modal.is_photo_upload_ready">\n            <div class="col col-15" style="padding:0;margin:0"></div>\n            <div class="col col-30" style="margin:0;padding-top:0;padding-bottom:0">\n                <button class="button button-block button-small button-outline button-positive" ng-click="modal.addPhotoBtnClicked(1)" style="margin:0"><i class="icon ion-ios-camera"></i> {{ \'Camera\' | translate }}</button>\n            </div>\n            <div class="col col-30" style="margin:0;padding-top:0;padding-bottom:0">\n                <button class="button button-block button-small button-outline button-positive" ng-click="modal.addPhotoBtnClicked(0)" style="margin:0"><i class="icon ion-ios-color-filter"></i> {{ \'Photo\' | translate }}</button>\n            </div>\n            <div class="col col-15" style="padding:0;margin:0"></div>\n        </div>\n        <div class="list card" ng-if="modal.feed.images.length > 0">\n            <div class="row">\n                <div class="col" ng-repeat="image in modal.feed.images">\n                    <img class="full-image" ng-src="data:image/jpeg;base64,{{image}}">\n                </div>\n            </div>\n        </div>\n    </ion-content>\n    <!--     <ion-footer-bar align-title="left" class="footer-actions" keyboard-attach>\n        <div class=\'button-bar\'>\n            <a ng-if=\'!modal.submitting\' class="button button-energized" ng-click="modal.submitNewFeed(modal.feed)">\n                <strong>Submit</strong>\n            </a>\n            <a ng-if=\'modal.submitting\' class="button button-positive">\n                <strong>Submitting...</strong>\n            </a>\n        </div>\n    </ion-footer-bar> -->\n</ion-modal-view>')}]),angular.module("menu/bookings/bookings.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/bookings/bookings.tpl.html",'<ion-view view-title="{{ \'Booking\' | translate }}" cache-view="false">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-plus-empty" ui-sref="menu.bookings-facilities"></div>\n    </ion-nav-buttons>\n    <ion-content has-bouncing="true">\n        <div class="card" ng-if="bookings_by_date.length == 0">\n            <div class="item item-text-wrap">\n                {{ \'You_dont_have_any_booking.\' | translate }} <a ui-sref="menu.bookings-facilities">{{ \'Click_here\' | translate }}</a> {{ \'to_create_new_booking\' | translate }}\n            </div>\n        </div>\n        <div class="list" ng-repeat="booking_by_date in bookings_by_date">\n            <div class="item item-divider">{{::booking_by_date.date | amDateFormat:\'dddd, MMMM Do YYYY\'}}</div>\n            <div class="item item-avatar item-button-right" ng-repeat="booking in booking_by_date.bookings" ng-click="openBookingModal(booking)">\n                <img ng-src="{{::booking.info.facility.thumbnail}}" ng-if="::booking.info.facility.thumbnail">\n                <img src="https://lh3.googleusercontent.com/-Asj0Hulfxio/AAAAAAAAAAI/AAAAAAAAACI/XtdfH7u7i4Y/photo.jpg" ng-if="::!booking.info.facility.thumbnail">\n                <h2>{{::booking.info.facility.name}}</h2>\n                <p>{{::booking.booking_slot}}</p>\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/bookings/facilities/facilities.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/bookings/facilities/facilities.tpl.html",'<ion-view view-title="{{ \'Facilities\' | translate }}" cache-view="false">\n    <ion-content has-bouncing="true">\n\n        <div class="list">\n            <a class="item item-avatar" ng-repeat="facility in facilities" ui-sref="menu.bookings-facilities-new({ facility_id: facility.id })">\n                <img ng-src="{{::facility.thumbnail}}" ng-if="::facility.thumbnail">\n                <img src="https://lh3.googleusercontent.com/-Asj0Hulfxio/AAAAAAAAAAI/AAAAAAAAACI/XtdfH7u7i4Y/photo.jpg" ng-if="::!facility.thumbnail">\n                <h2>{{::facility.name}}</h2>\n            </a>\n        </div>        \n    </ion-content>\n</ion-view>')}]),angular.module("menu/bookings/facilities/facilities_booking.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/bookings/facilities/facilities_booking.tpl.html",'<ion-view view-title="{{view_title}}" cache-view="false">\n    <ion-content has-bouncing="true" class="facility-booking-detail-content">\n        <ion-scroll direction="x" id="date-scroll">\n            <div class="date-item" ng-repeat="date in date_arr" ng-click="select_date(date)" ng-class="{selected: date == current_date}">\n                {{date | amDateFormat:\'dd DD\'}}\n            </div>\n        </ion-scroll>\n        <div class="date-detail">{{current_date | amDateFormat:\'dddd, MMMM Do YYYY\'}}</div>\n        <div class="padding">\n            <div ng-repeat="slot in slots_in_date_arr[current_date_string]">\n                <button class="button button-block button-light" ng-if="!bookings[current_date_string][slot]" ng-click="book_slot(slot, current_date)">{{slot}}: {{ \'Free\' | translate }}</button>\n                <button class="button button-block button-assertive" ng-if="bookings[current_date_string][slot]">\n                    {{slot}}: {{bookings[current_date_string][slot][\'user\'][\'name\']}}\n                </button>\n            </div>\n        </div>\n        <div class="card" ng-if="slots_in_date_arr[current_date_string].length == 0 && slots_in_date_arr">\n            <div class="item item-text-wrap">\n                {{ \'There_is_no_available_slots\' | translate }}\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/bookings/modals/booking-show.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/bookings/modals/booking-show.tpl.html",'<ion-modal-view>\n    <ion-header-bar>\n        <h1 class="title">{{ \'Booking_info\' | translate }}</h1>\n        <button class="button button-icon button-clear ion-ios-close-empty" ng-click="closeModal()"></button>\n    </ion-header-bar>\n    <ion-content overflow-scroll=\'true\'>\n        <div class="list card">\n            <div class="item item-avatar">\n                <img ng-src="{{::modal.booking.info.facility.thumbnail}}">\n                <h2>{{::modal.booking.info.facility.name}}</h2>\n                <p>{{::modal.booking.booking_date}} | {{::modal.booking.booking_slot}}</p>\n            </div>\n<!--             <div class="item item-body">\n                <p>\n                    This is a "Facebook" styled Card. The header is created from a Thumbnail List item, the content is from a card-body consisting of an image and paragraph text. The footer consists of tabs, icons aligned left, within the card-footer.\n                </p>\n            </div> -->\n        </div>\n        <div class="padding">\n            <button class="button button-block button-positive button-outline" ng-if="::modal.booking.info.facility.invitable">\n                <strong>{{ \'Invite_friends\' | translate }}</strong>\n            </button>\n\n            <button class="button button-block button-positive button-outline" ng-if="::modal.booking.info.facility.payable">\n                <strong>{{ \'Call_to_pay\' | translate }}</strong>\n            </button>\n\n            <button ng-if=\'!modal.submitting\' class="button button-block button-assertive button-outline" ng-click="modal.deleteBooking(modal.booking)">\n                <strong>{{ \'Delete\' | translate }}</strong>\n            </button>\n            <button ng-if=\'modal.submitting\' class="button button-block button-assertive button-outline" >\n                <strong>{{ \'Deleting\' | translate }} ...</strong>\n            </button>\n        </div>\n    </ion-content>\n</ion-modal-view>')}]),angular.module("menu/categories/documents/tab-board.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/categories/documents/tab-board.tpl.html",'<ion-view view-title="Board Members">\n    <ion-content>\n        <div class="list">\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/venkman.jpg">\n                <h2>Venkman</h2>\n                <p>Chairman</p>\n            </a>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/spengler.jpg">\n                <h2>Egon</h2>\n                <p>Vice Chairman</p>\n            </a>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/stantz.jpg">\n                <h2>Ray</h2>\n                <p>Vice Chairman</p>\n            </a>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/winston.jpg">\n                <h2>Winston</h2>\n                <p>Accountant</p>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/categories/documents/tab-info.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/categories/documents/tab-info.tpl.html",'<ion-view view-title="Info" cache-view="false">\n    <ion-content>\n        <h4 style="text-align:center">{{::house.address}}</h4>\n        <ion-slide-box>\n            <ion-slide ng-repeat="image in house.images">\n                <div class="item item-body">\n                    <img class="full-image" ng-src="{{::image}}">\n                </div>\n            </ion-slide>\n        </ion-slide-box>\n        \n        <div class="list" ng-if="house.perustiedot">\n            <div class="item item-divider">\n                Perustiedot\n            </div>\n            <a class="item" ng-repeat="item in house.perustiedot">\n                {{::item.key}}\n                <span class="item-note">{{::item.value}}</span>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/categories/documents/tab-material.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/categories/documents/tab-material.tpl.html",'<ion-view view-title="Material">\n    <ion-content>\n    <div class="card">\n            <div class="item item-divider energized-bg">\n                In hac habitasse platea dictumst\n            </div>\n            <div class="item item-text-wrap">\n                In hac habitasse platea dictumst. Etiam in semper neque. Nullam ac ex vehicula, semper velit ut, semper ante. Curabitur vel dignissim diam. Nulla at purus pharetra, tristique justo a, semper dui. Pellentesque posuere arcu dui, vitae dictum enim imperdiet vel. Praesent vel neque dictum, placerat sem venenatis, imperdiet odio. Mauris lectus nunc, gravida a semper ac, consequat sed justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n            </div>\n        </div>\n        <div class="card">\n            <div class="item item-divider light positive-bg">\n                Praesent vel neque dictum, placerat sem\n            </div>\n            <div class="item item-text-wrap">\n                Praesent vel neque dictum, placerat sem venenatis, imperdiet odio. Mauris lectus nunc, gravida a semper ac, consequat sed justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n            </div>\n        </div>\n        <div class="card">\n            <div class="item item-divider light assertive-bg">\n                Lorem ipsum dolor sit amet\n            </div>\n            <div class="item item-text-wrap">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque maximus nisl id erat porttitor, non blandit nisl ultricies. Praesent tincidunt mi at gravida tincidunt. Mauris eget consectetur sapien. Donec sagittis, nisl sit amet tincidunt finibus, sapien metus consectetur enim, at molestie justo eros a ante. Nam sodales nulla eget nibh consectetur, eu tempor lectus cursus. In hac habitasse platea dictumst. Etiam in semper neque. Nullam ac ex vehicula, semper velit ut, semper ante. Curabitur vel dignissim diam. Nulla at purus pharetra, tristique justo a, semper dui. Pellentesque posuere arcu dui, vitae dictum enim imperdiet vel. Praesent vel neque dictum, placerat sem venenatis, imperdiet odio. Mauris lectus nunc, gravida a semper ac, consequat sed justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/categories/documents/tabs.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/categories/documents/tabs.tpl.html",'<ion-view cache-view="false">\n    <ion-tabs class="tabs-icon-top">\n        <ion-tab title="House Info" icon="ion-ios-home" ui-sref="menu.documents.info">\n            <ion-nav-view name="tab-documents-info"></ion-nav-view>\n        </ion-tab>\n\n        <ion-tab title="Material" icon="ion-clipboard" ui-sref="menu.documents.material">\n            <ion-nav-view name="tab-documents-material"></ion-nav-view>\n        </ion-tab>\n\n        <ion-tab title="Board Member" icon="ion-person-stalker" ui-sref="menu.documents.board">\n            <ion-nav-view name="tab-documents-board"></ion-nav-view>\n        </ion-tab>\n    </ion-tabs>\n</ion-view>')}]),angular.module("menu/categories/reportcontact/reportcontact.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/categories/reportcontact/reportcontact.tpl.html",'<ion-view view-title="Report/Contact">\n  <ion-content>\n    <form ng-submit=\'supportForm.submit()\'>\n      <div class="list">\n        <label class="item item-input">\n          <span class="input-label">Name</span>\n          <input type="text" name=\'name\' ng-model="supportForm.name" required>\n        </label>\n        <label class="item item-input">\n          <span class="input-label">Contact Email</span>\n          <input type="email" name=\'email\' ng-model="supportForm.email" required>\n        </label>\n        <label class="item item-input item-stacked-label">\n          <textarea class=\'support-text\' ng-model=\'supportForm.content\' placeholder="Enter your feeback or comments. We are here to help." ></textarea>\n        </label>\n      </div>\n    </form>\n  </ion-content>\n  <ion-footer-bar class="footer-actions">\n    <div class=\'button-bar\'>\n      <a ng-if=\'!submitting\' class="button button-positive" ng-click=\'supportForm.submit()\'>\n        <strong>Submit</strong>\n      </a>\n      <a ng-if=\'submitting\' class="button button-positive">\n        <strong>Submitting...</strong>\n      </a>\n    </div>\n  </ion-footer-bar>\n</ion-view>');

}]),angular.module("menu/groups/index.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/groups/index.tpl.html",'<ion-view view-title="Groups" cache-view="false">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-plus-empty" ng-click="create_group()"></div>\n    </ion-nav-buttons>\n    <ion-content>\n        <div class="list" ng-if="groups.accepted.length > 0">\n            <div class="item item-divider">{{ \'My_Groups\' | translate }}</div>\n            <a class="item item-icon-left item-button-right" ng-repeat="group in groups.accepted">\n                <i class="icon" ng-class="::group.icon"></i>\n            	{{::group.name}}\n            	<button class="button button-clear button-assertive" style="font-size: 14px" ng-click="leave_group(group)">{{ \'Leave\' | translate }}</button>\n            </a>\n        </div>\n        <div class="list" ng-if="groups.invited.length > 0">\n            <div class="item item-divider">{{ \'Invited\' | translate }}</div>\n            <a class="item item-icon-left item-button-right" ng-repeat="group in groups.invited">\n                <i class="icon" ng-class="::group.icon"></i>\n            	{{::group.name}}\n            	<button class="button button-clear button-positive" style="font-size: 14px" ng-click="accept_group(group)">{{ \'Accept\' | translate }}</button>\n            </a>\n        </div>\n        <div class="list" ng-if="groups.public.length > 0">\n            <div class="item item-divider">{{ \'Groups\' | translate }}</div>\n            <a class="item item-icon-left item-button-right" ng-repeat="group in groups.public">\n                <i class="icon" ng-class="::group.icon"></i>\n            	{{::group.name}}\n            	<button class="button button-clear button-energized" style="font-size: 14px" ng-click="join_group(group)">{{ \'Join\' | translate }}</button>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/groups/new.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/groups/new.tpl.html",'<ion-modal-view>\n    <ion-header-bar>\n        <h1 class="title">{{ \'New_group\' | translate }}</h1>\n        <button class="button button-icon button-clear ion-ios-close-empty" ng-click="closeModal()"></button>\n    </ion-header-bar>\n    <ion-content overflow-scroll=\'true\'>\n        <form name=\'signupForm\'>\n            <div class="list">\n                <label class="item item-input">\n                    <span class="input-label">{{ \'Name\' | translate }}</span>\n                    <input type="text" ng-model="modal.group.name">\n                </label>\n                <label class="item item-input">\n                    <span class="input-label">{{ \'Description\' | translate }}</span>\n                    <input type="text" name=\'description\' ng-model="modal.group.description">\n                </label>\n<!--                 <label class="item item-input item-stacked-label">\n                    <textarea class=\'support-text\' ng-model=\'modal.group.description\' placeholder="Group description"></textarea>\n                </label> -->\n            </div>\n        </form>\n<!--         <ul class="list">\n            <li class="item item-toggle">\n                Public\n                <label class="toggle toggle-energized">\n                    <input type="checkbox" checked="" ng-model="modal.group.public">\n                    <div class="track">\n                        <div class="handle"></div>\n                    </div>\n                </label>\n            </li>\n        </ul> -->\n    </ion-content>\n    <ion-footer-bar align-title="left" class="footer-actions" keyboard-attach>\n        <div class=\'button-bar\'>\n            <a ng-if=\'!modal.submitting\' class="button button-energized" ng-click="modal.submit_new_group(modal.group)">\n                <strong>{{ \'Submit\' | translate }}</strong>\n            </a>\n            <a ng-if=\'modal.submitting\' class="button button-positive">\n                <strong>{{ \'Submitting\' | translate }} ...</strong>\n            </a>\n        </div>\n    </ion-footer-bar>\n</ion-modal-view>')}]),angular.module("menu/help/help.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/help/help.tpl.html",'<ion-view view-title="Help">\n    <ion-content>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/house_verification/house_verification.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/house_verification/house_verification.tpl.html",'<ion-view view-title="Verification">\n    <ion-content>\n        <div class="list" ng-repeat="house in unconfirmed_houses">\n            <div class="item item-divider">{{house.address}}</div>\n            <div class="item item-input-inset">\n                <label class="item-input-wrapper">\n                    <input type="text" ng-model="verification_code"placeholder="{{ \'Verification_code\' | translate }}">\n                </label>\n                <button class="button button-small button-clear button-assertive" style="font-size: 14px" ng-click="verfity_house(house, verification_code)">{{ \'Verify\' | translate }}</button>\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/inbox/inbox.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/inbox/inbox.tpl.html",'<ion-view view-title="{{ \'Inbox\' | translate }}" cache-view="false">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-plus-empty" ui-sref="menu.inbox-new"></div>\n    </ion-nav-buttons>\n    <ion-content>\n        <ion-refresher pulling-text="{{ \'Pull_to_refresh\' | translate }} ..." on-refresh="fetchInbox()">\n        </ion-refresher>\n        <div class="card" ng-if="messages.length == 0">\n            <div class="item item-text-wrap">\n                {{ \'You_dont_have_any_messages\' | translate }}. <a ui-sref="menu.inbox-new">{{ \'Click_here\' | translate }}</a> {{ \'to_send_messages_to_your_neighbors\' | translate }}\n            </div>\n        </div>\n        <div class="list">\n            <a class="item item-avatar item-icon-right" ng-repeat="message in messages" ng-class="{new_message: !message.read}" ng-click="goToMessageThread(message)">\n                <img ng-src="{{::message.latest_from_avatar}}">\n                <h2>{{::message.latest_from_name}}</h2>\n                <p ng-if="::message.latest_content.text">{{::message.latest_content.text}}</p>\n                <p am-time-ago="::message.updated_at"></p>\n                <i class="icon ion-ios-glasses-outline" ng-if="::!message.read"></i>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/inbox/new.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/inbox/new.tpl.html",'<ion-view view-title="{{ \'New\' | translate }}" cache-view="false">\n    <div class="bar bar-subheader item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios-search placeholder-icon"></i>\n            <input type="search" placeholder="{{ \'Search\' | translate }}" ng-model="query">\n        </label>\n    </div>\n    <ion-content class="has-footer has-subheader">\n        <div class="list">\n            <a class="item item-avatar item-icon-right" ng-repeat="user in users | filter:query | orderBy: \'name\'" ng-click="toggleUser(user)">\n                <img ng-src="{{::user.avatar}}">\n                <h2>{{::user.name}}</h2>\n                <i class="icon ion-android-checkbox-outline-blank" ng-if="!user.selected"></i>\n                <i class="icon ion-android-checkbox-outline" ng-if="user.selected"></i>\n            </a>\n        </div>\n    </ion-content>\n    <div class="bar bar-footer item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="text" placeholder="{{ \'Send_a_message\' | translate }}" ng-model="new_message">\n        </label>\n        <button class="button button-clear" ng-click="sendNewMessage()">{{ \'Send\' | translate }}</button>\n    </div>\n</ion-view>')}]),angular.module("menu/inbox/show.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/inbox/show.tpl.html",'<ion-view view-title="{{view_title}}" cache-view="false">\n    <ion-content class="has-footer">\n        <ion-refresher pulling-text="Pull to refresh..." on-refresh="fetchMessageThreads()">\n        </ion-refresher>\n        <div class="list">\n            <a class="item item-avatar" ng-repeat="thread in threads">\n                <img ng-src="{{::thread.from_avatar}}">\n                <h2>{{::thread.from_name}}</h2>\n                <p ng-if="::thread.content.text" style="white-space:normal">{{::thread.content.text}}</p>\n                <p am-time-ago="::thread.created_at"></p>\n            </a>\n        </div>\n    </ion-content>\n    <div class="bar bar-footer item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="text" placeholder="{{ \'Reply_a_message\' | translate }}" ng-model="new_message">\n        </label>\n        <button class="button button-clear" ng-click="sendNewMessage(new_message)">{{ \'Reply\' | translate }}</button>\n    </div>\n</ion-view>')}]),angular.module("menu/menu.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/menu.tpl.html",'<ion-side-menus enable-menu-with-back-views="false" id="menuPage" cache-view="false">\n    <ion-side-menu-content>\n        <ion-nav-bar class="bar-stable">\n            <ion-nav-back-button>\n            </ion-nav-back-button>\n            <ion-nav-buttons side="left">\n                <button class="button button-icon button-clear ion-navicon" menu-toggle="left">\n                </button>\n            </ion-nav-buttons>\n        </ion-nav-bar>\n        <ion-nav-view name="menuContent"></ion-nav-view>\n    </ion-side-menu-content>\n    <ion-side-menu side="left">\n        <ion-header-bar align-title="left" class="bar-dark custom-menu-header">\n            <div class="buttons">\n                <div class="button customer-header-avatar" style="background-image: url({{current_user.avatar}});"></div>\n            </div>\n            <h1 class="title">{{current_user.name}}</h1>\n            <div class="buttons">\n                <div class="button button-icon button-clear ion-ios-flag button-custom" nav-clear menu-close ui-sref="menu.notifications"><span class="badge badge-assertive" ng-if="unread_notifications_count > 0" style="top:-12px;right:8px;font-size: 8px;line-height:10px;" nav-clear menu-close ui-sref="menu.notifications">{{unread_notifications_count}}</span></div>\n            </div>\n        </ion-header-bar>\n        <ion-content>\n            <ion-list>\n                <ion-refresher pulling-text="{{ \'Pull_to_refresh\' | translate }} ..." on-refresh="refeshMenu()">\n                </ion-refresher>\n                <div class="item item-divider item-icon-right" ng-if="current_user.houses.current_house">\n                    {{current_user.houses.current_house.address}}\n                </div>\n                <ion-item nav-clear menu-close ui-sref="menu.feed" ui-sref-active="current" class="item-icon-left" ng-if="current_user.houses.current_house">\n                    <i class="icon ion-social-rss"></i> {{ \'Feed\' | translate }}\n                </ion-item>\n                <ion-item nav-clear menu-close ui-sref="menu.inbox" class="item-icon-left" ng-if="current_user.houses.current_house">\n                    <i class="icon ion-ios-email"></i> {{ \'Inbox\' | translate }}\n                    <span class="badge badge-assertive" ng-if="unread_messages_count > 0">{{unread_messages_count}}</span>\n                </ion-item>\n                <ion-item nav-clear menu-close ui-sref="menu.bookings" class="item-icon-left" ng-if="current_user.houses.current_house.number_of_facilities > 0">\n                    <i class="icon ion-ios-calendar-outline"></i> {{ \'Booking\' | translate }}\n                </ion-item>\n                <ion-item nav-clear menu-close ui-sref="menu.house_verification" class="item-icon-left" ng-if="!current_user.houses.current_house">\n                    <i class="icon ion-ios-unlocked"></i> {{ \'Account_Verification\' | translate }}\n                </ion-item>\n                <ion-item nav-clear menu-close ui-sref="menu.reportcontact" class="item-icon-left" ng-if="current_user.houses.current_house">\n                    <i class="icon ion-ios-telephone"></i> {{ \'Contact\' | translate }}\n                </ion-item>\n                <ion-item nav-clear menu-close ui-sref="menu.documents.info" class="item-icon-left" ng-if="current_user.houses.current_house">\n                    <i class="icon ion-document"></i> {{ \'Documents\' | translate }}\n                </ion-item>\n                <div class="item item-divider item-icon-right" ui-sref="menu.groups" nav-clear menu-close ng-if="current_user.houses.current_house">\n                    {{ \'Groups\' | translate }}\n                    <i class="icon ion-ios-arrow-right"></i>\n                </div>\n                <ion-item nav-clear menu-close ng-repeat="group in user_groups" ui-sref="menu.group({group_id: group.id, group_feed_type: group.feed_type, group_name: group.name})" class="item-icon-left" ng-if="current_user.houses.current_house">\n                    <i class="icon" ng-class="group.icon"></i> {{group.name}}\n                </ion-item>\n                <div class="item item-divider">{{ \'Settings\' | translate }}</div>\n                <ion-item nav-clear menu-close ui-sref="menu.help" class="item-icon-left">\n                    <i class="icon ion-help-circled"></i> {{ \'Help\' | translate }}\n                </ion-item>\n                <ion-item nav-clear menu-close ng-click="logout()" class="item-icon-left">\n                    <i class="icon ion-power" style="font-size: 20px;"></i> {{ \'Logout\' | translate }}\n                </ion-item>\n            </ion-list>\n        </ion-content>\n    </ion-side-menu>\n</ion-side-menus>')}]),angular.module("menu/notifications/index.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/notifications/index.tpl.html",'<ion-view view-title="{{ \'Notifications\' | translate }}" cache-view="false">\n    <ion-content>\n        <ion-refresher on-refresh="fetchNotifications()">\n        </ion-refresher>\n        <div class="list">\n            <a class="item item-avatar" ng-repeat="notification in notifications" ng-click="clickNotification(notification)" ng-class="{new_message: !notification.read}">\n                <img ng-src="{{::notification.content.user.avatar}}">\n                <h2>{{::notification.content.user.name}}</h2>\n                <p style="white-space:normal">{{::notification.content.text}}</p>\n                <p am-time-ago="::notification.updated_at"></p>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("user/user.confirm_address.tpl.html",[]).run(["$templateCache",function(a){a.put("user/user.confirm_address.tpl.html",'<ion-content overflow-scroll=\'true\'>\n    <a class="button button-icon ion-ios-close-empty back-button" ui-sref=\'landing.home\'>\n    </a>\n</ion-content>\n<section class=\'bottom-section\'>\n    <form name=\'signupForm\'>\n        <div class="list">\n            <label class="item title">\n                <strong>Where do you live?</strong>\n            </label>\n            <label class="item item-input">\n                <span class="input-label">Address</span>\n                <ion-autocomplete ng-model="settings.house_id" items-method="searchAddress(query)" item-value-key="id" item-view-value-key="address"/>\n            </label>\n            <label class="item item-input">\n                <span class="input-label">Apartment number</span>\n                <input type="text" name=\'apartment_number\' ng-model="settings.apartment_number">\n            </label>\n<!--             <label class="item item-input">\n                <span class="input-label">Phone number</span>\n                <input type="text" name=\'phone_number\' ng-model="settings.phone_number">\n            </label>   -->      \n        </div>\n    </form>\n    <div class="padding signup-block">\n        <div>By signing up you agree to our <a>Terms of Use</a> and <a>Privacy Policy</a></div>\n    </div>\n</section>\n<ion-footer-bar align-title="left" class="footer-actions">\n    <div class=\'button-bar\'>\n        <a ng-if=\'!submitting\' class="button button-energized" ng-click="submitSettings(settings)">\n            <strong>Submit</strong>\n        </a>\n        <a ng-if=\'submitting\' class="button button-positive">\n            <strong>Submitting...</strong>\n        </a>\n    </div>\n</ion-footer-bar>')}]),angular.module("user/user.tpl.html",[]).run(["$templateCache",function(a){a.put("user/user.tpl.html",'<ion-view hide-nav-bar="true">\n  <ion-pane id=\'landingPage\'>\n    <div data-ui-view=""></div>\n  </ion-pane>\n</ion-view>\n')}]),app.config(["$ionicAppProvider",function(a){return a.identify({app_id:"2f787f87",api_key:"d97a452f9d561aa882ae5b9d2abc3cb33a891f5315b5f629"})}]),app.config(["$ionicConfigProvider",function(a){return a.backButton.previousTitleText(!1).text("").icon("ion-ios-arrow-back"),a.tabs.style("standard").position("bottom"),a.navBar.alignTitle("center")}]),app.run(["amMoment",function(a){return a.changeLocale("en")}]),app.config(["$stateProvider","$urlRouterProvider",function(a,b){return b.otherwise("/landing/home"),a.state("landing",{url:"/landing","abstract":!0,templateUrl:"landing/landing.tpl.html",data:{authenticate:!1}}),a.state("landing.home",{url:"/home",templateUrl:"landing/landing.home.tpl.html"}),a.state("landing.signup",{url:"/signup",templateUrl:"landing/landing.signup.tpl.html",controller:"LandingSignUpCtrl"}),a.state("landing.login",{url:"/login",templateUrl:"landing/landing.login.tpl.html",controller:"LandingLoginCtrl"}),a.state("user",{url:"/user","abstract":!0,templateUrl:"user/user.tpl.html",data:{authenticate:!0}}),a.state("user.confirm_address",{url:"/confirm_address",templateUrl:"user/user.confirm_address.tpl.html",controller:"UserConfirmAddressCtrl"}),a.state("menu",{url:"/menu","abstract":!0,templateUrl:"menu/menu.tpl.html",controller:"MenuCtrl",data:{authenticate:!0}}),a.state("menu.notifications",{url:"/notifications",views:{menuContent:{templateUrl:"menu/notifications/index.tpl.html",controller:"NotificationsCtrl"}}}),a.state("menu.feed",{url:"/feed",views:{menuContent:{templateUrl:"menu/_activities/feed.tpl.html",controller:"FeedsCtrl"}},data:{house_verification:!0,feed_type:"feed",view_title:"Feed"}}),a.state("menu.feed-detail",{url:"/feed-detail/:feed_id",views:{menuContent:{templateUrl:"menu/_activities/feed-detail.tpl.html",controller:"FeedDetailCtrl"}},data:{house_verification:!0}}),a.state("menu.inbox",{url:"/inbox",views:{menuContent:{templateUrl:"menu/inbox/inbox.tpl.html",controller:"InboxCtrl"}},data:{house_verification:!0}}),a.state("menu.inbox-new",{url:"/inbox-new",views:{menuContent:{templateUrl:"menu/inbox/new.tpl.html",controller:"InboxNewCtrl"}},data:{house_verification:!0}}),a.state("menu.inbox-show",{url:"/inbox/:message_id",views:{menuContent:{templateUrl:"menu/inbox/show.tpl.html",controller:"InboxShowCtrl"}},data:{house_verification:!0}}),a.state("menu.bookings",{url:"/bookings",views:{menuContent:{controller:"BookingsCtrl",templateUrl:"menu/bookings/bookings.tpl.html"}},data:{house_verification:!0}}),a.state("menu.bookings-facilities",{url:"/bookings/facilities",views:{menuContent:{controller:"BookingsFacilitiesCtrl",templateUrl:"menu/bookings/facilities/facilities.tpl.html"}},data:{house_verification:!0}}),a.state("menu.bookings-facilities-new",{url:"/bookings/facilities/:facility_id/booking",views:{menuContent:{controller:"BookingsFacilitiesNewCtrl",templateUrl:"menu/bookings/facilities/facilities_booking.tpl.html"}},data:{house_verification:!0}}),a.state("menu.documents",{url:"/documents","abstract":!0,views:{menuContent:{templateUrl:"menu/categories/documents/tabs.tpl.html"}},data:{house_verification:!0}}),a.state("menu.documents.info",{url:"/info",views:{"tab-documents-info":{controller:"HouseDocumentCtrl",templateUrl:"menu/categories/documents/tab-info.tpl.html"}}}),a.state("menu.documents.material",{url:"/material",views:{"tab-documents-material":{templateUrl:"menu/categories/documents/tab-material.tpl.html"}}}),a.state("menu.documents.board",{url:"/board",views:{"tab-documents-board":{templateUrl:"menu/categories/documents/tab-board.tpl.html"}}}),a.state("menu.reportcontact",{url:"/reportcontact",views:{menuContent:{templateUrl:"menu/categories/reportcontact/reportcontact.tpl.html"}},data:{house_verification:!0}}),a.state("menu.groups",{url:"/groups",views:{menuContent:{templateUrl:"menu/groups/index.tpl.html",controller:"GroupsCtrl"}},data:{house_verification:!0}}),a.state("menu.group",{url:"/group/:group_id/:group_feed_type/:group_name",views:{menuContent:{templateUrl:"menu/_activities/feed.tpl.html",controller:"FeedsCtrl"}},data:{house_verification:!0,is_group:!0}}),a.state("menu.house_verification",{url:"/house_verification",views:{menuContent:{templateUrl:"menu/house_verification/house_verification.tpl.html",controller:"HouseVerificationCtrl"}}}),a.state("menu.help",{url:"/help",views:{menuContent:{templateUrl:"menu/help/help.tpl.html"}}})}]),app.config(["$translateProvider",function(a){return a.useStaticFilesLoader({prefix:"assets/i18n/",suffix:".js"}),a.preferredLanguage("en")}]),app.controller("BookingsCtrl",["$scope","HauserService","$ionicPopup","$ionicModal",function(a,b,c,d){var e;return e=function(){return b.bookings.get_bookings().then(function(b){return a.bookings_by_date=b})},a.openBookingModal=function(f){return d.fromTemplateUrl("menu/bookings/modals/booking-show.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(d){return a.modal=d,a.modal.booking=f,a.modal.deleteBooking=function(d){return c.confirm({title:d.booking_date+". Slot: "+d.booking_slot,template:"Are you sure you want to delete this?"}).then(function(c){return c?(a.modal.submitting=!a.modal.submitting,b.bookings.delete_booking(d.id).then(function(){return e(),a.closeModal()})):void 0})},a.modal.show().then(function(){})})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},e()}]),app.controller("BookingsFacilitiesCtrl",["$scope","HauserService",function(a,b){var c;return c=Hauser.User.current_house(),b.houses.get_facilities(c.id).then(function(b){return a.facilities=b})}]),app.controller("BookingsFacilitiesNewCtrl",["$scope","HauserService","$stateParams","$firebaseObject","HauserHelper",function(a,b,c,d,e){var f,g,h,i;return g=c.facility_id,a.view_title="Loading ...",f=Hauser.User.current_house(),h=function(b){var c;return c=new Firebase(b+"/facilities/"+g+"/booking"),a.bookings=d(c)},i=function(){return b.houses.get_facility(f.id,g).then(function(b){var c,d,f,g,i,j,k;for(a.view_title=b.name,g=b.firebase_base_url,g||(g=HauserAppSettings.firebaseUrl),h(g),f=b.booking_rules,f||(f=e.bookings.default_booking_rules()),a.date_arr=[],a.slots_in_date_arr={},i=j=0;13>=j;i=++j){d=moment().add(i,"days"),a.date_arr.push(d),a.slots_in_date_arr[d.format("YYYY-MM-DD")]=[],c=f[d.format("dd")];for(k in c)c[k]&&a.slots_in_date_arr[d.format("YYYY-MM-DD")].push(k)}return a.select_date(a.date_arr[0])})},a.select_date=function(b){return a.current_date=b,a.current_date_string=a.current_date.format("YYYY-MM-DD")},a.book_slot=function(a,c){var d;return d={booking_date:c.format("YYYY-MM-DD"),booking_slot:a,booking_type:"facility",facility_id:g},b.bookings.new_booking(d)},a.$on("$ionicView.afterEnter",function(){return i()})}]),app.controller("FeedDetailCtrl",["$scope","$state","HauserService","$stateParams","$ionicScrollDelegate","$ionicActionSheet","$ionicHistory",function(a,b,c,d,e,f,g){var h,i,j;return h=d.feed_id,a.view_title="Loading ...",i=function(){return c.feeds.get_feed(h).then(function(b){return a.feed=b,a.view_title=b.content.text,a.feed.content.image_ids?(a.feed.images=[],angular.forEach(a.feed.content.image_ids,function(b){return a.feed.images.push(HauserAppSettings.imagesCdnBaseUrl+"/"+b+".jpg")})):void 0})},j=function(){return c.feeds.get_feed_comments(h).then(function(b){return a.comments=b})},a.send_new_comment=function(){return""!==a.new_comment?c.feeds.comment_feed(h,{content:a.new_comment}).then(function(b){return a.new_comment="",a.comments.push(b)}):void 0},a.clickMoreBtn=function(){var b,d;return d=Hauser.User.current(),b={buttons:[{text:"<b>Share</b> This"}],cancelText:"Cancel",buttonClicked:function(a){return 1===a&&c.feeds.delete_feed(h).then(function(){return g.goBack()}),!0}},d.id===a.feed.content.from.id&&b.buttons.push({text:"Delete"}),f.show(b)},a.$on("$ionicView.afterEnter",function(){return i(),j()})}]),app.controller("FeedsCtrl",["$scope","$ionicModal","$timeout","$state","HauserService","Notification","$translate","$stateParams","$ionicScrollDelegate","$cordovaCamera","$ionicPlatform",function(a,b,c,d,e,f,g,h,i,j,k){var l,m;return a.changeLanguage=function(a){return g.use(a)},d.current.data.feed_type&&(a._feed_type=d.current.data.feed_type,a.view_title=d.current.data.view_title),d.current.data.is_group&&(a._feed_type=h.group_feed_type,a.view_title=h.group_name),l=Hauser.User.current_house(),m=1,a.feeds_reach_the_final_page=!1,a.feeds=[],a.fetchFeeds=function(b){return m=b,e.houses.list_feeds(l.id,a._feed_type,b).then(function(c){return 2>b&&(a.feeds=[]),0===c.length&&(a.feeds_reach_the_final_page=!0),angular.forEach(c,function(b){return b.content.image_ids&&(b.images=[],angular.forEach(b.content.image_ids,function(a){return b.images.push(HauserAppSettings.imagesCdnBaseUrl+"/"+a+".jpg")})),a.feeds.push(b)}),a.$broadcast("scroll.refreshComplete"),a.$broadcast("scroll.infiniteScrollComplete")})},a.loadMoreFeeds=function(){return a.feeds_reach_the_final_page?void a.$broadcast("scroll.infiniteScrollComplete"):a.fetchFeeds(m+1)},a.like_feed=function(a){return e.feeds.like_feed(a.id).then(function(){return a.total_likes=a.total_likes+1})},a.comment_feed=function(c){return b.fromTemplateUrl("menu/_activities/modals/comment.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.feed=c,a.modal.new_comment="",a.modal.modal_type="new_comment_type",a.modal.fetchComments=function(){return e.feeds.get_feed_comments(c.id).then(function(b){return a.modal.comments=b,i.$getByHandle("comment_modal_content").scrollBottom(!0)})},a.modal.send_new_comment=function(){return""!==a.modal.new_comment?e.feeds.comment_feed(c.id,{content:a.modal.new_comment}).then(function(b){return a.modal.new_comment="",a.modal.feed.total_comments+=1,a.modal.comments.push(b)}):void 0},a.modal.show().then(function(){return a.modal.fetchComments()})})},a.newFeedBtnDidClicked=function(){return b.fromTemplateUrl("menu/_activities/modals/new.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.modal_type="new_feed_modal",a.modal.feed={content:{},feed_type:a._feed_type,images:[]},a.modal.is_photo_upload_ready=!1,window.cordova&&(a.modal.is_photo_upload_ready=!0),a.modal.addPhotoBtnClicked=function(b){return k.ready(function(){var c;return c={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:b,encodingType:Camera.EncodingType.JPEG,correctOrientation:!0,saveToPhotoAlbum:!1},j.getPicture(c).then(function(b){return a.modal.feed.images.push(b)},function(a){return void 0})})},a.modal.submitNewFeed=function(b){return a.modal.submitting=!a.modal.submitting,b.content.text?e.houses.new_feeds(l.id,b).then(function(b){return a.feeds.unshift(b),a.closeModal()}):(f.error("Text is required"),void(a.modal.submitting=!a.modal.submitting))},a.modal.show().then(function(){})})},a.closeModal=function(){return a.modal.hide().then(function(){return"new_comment_type"===a.modal.modal_type&&a.modal.comments.length>a.modal.feed.comments&&(a.modal.feed.comments=a.modal.comments.length),a.modal.remove()})},a.fetchFeeds(m)}]),app.controller("GroupsCtrl",["$scope","$ionicModal","$timeout","$state","HauserService","$rootScope",function(a,b,c,d,e,f){var g,h;return g=Hauser.User.current_house(),h=function(){return e.houses.get_groups(g.id).then(function(b){return a.groups=b})},a.join_group=function(a){return e.houses.join_group(g.id,a.id).then(function(){return h(),f.$broadcast("FETCH_CURRENT_USER_GROUP_NOTIFICATION")})},a.leave_group=function(a){return e.houses.leave_group(g.id,a.id).then(function(){return h(),f.$broadcast("FETCH_CURRENT_USER_GROUP_NOTIFICATION")})},a.accept_group=function(a){return e.houses.accept_group(g.id,a.id).then(function(){return h(),f.$broadcast("FETCH_CURRENT_USER_GROUP_NOTIFICATION")})},a.create_group=function(){return b.fromTemplateUrl("menu/groups/new.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.group={"public":!0,name:"",house_id:g.id},a.modal.submit_new_group=function(b){return e.houses.create_group(g.id,b).then(function(){return h(),f.$broadcast("FETCH_CURRENT_USER_GROUP_NOTIFICATION"),a.closeModal()})},a.modal.show().then(function(){})})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},h()}]),app.controller("HouseDocumentCtrl",["$scope","$ionicModal","$timeout","$state","HauserService","Notification",function(a,b,c,d,e){var f;return f=Hauser.User.current_house(),a.fetchHouse=function(){return e.houses.get_info(f.id).then(function(b){return a.house=b})},a.$on("$ionicView.afterEnter",function(){return a.fetchHouse()})}]),app.controller("HouseVerificationCtrl",["$scope","$rootScope","HauserService","Notification","$state",function(a,b,c,d){return a.unconfirmed_houses=Hauser.User.unconfirmed_houses(),a.verfity_house=function(e,f){return f?c.houses.verify_address(e.id,f).then(function(c){return d.success("Your house is verified"),Hauser.User.setData(c),a.unconfirmed_houses=Hauser.User.unconfirmed_houses(),b.$broadcast("FETCH_CURRENT_USER_INFO_FROM_CACHE")},function(a){return d.error(a.data.error)}):d.error("verification_code is required")}}]),app.controller("InboxCtrl",["$scope","HauserService","$state","$rootScope",function(a,b,c,d){return a.current_user=Hauser.User.current(),a.goToMessageThread=function(a){return c.go("menu.inbox-show",{message_id:a.id}),a.seen?void 0:d.$broadcast("FETCH_CURRENT_USER_MESSAGE_COUNT_NOTIFICATION",{count_subtract_one:!0})},a.fetchInbox=function(){return b.messages.get_messages().then(function(b){var c;return a.messages=b,a.$broadcast("scroll.refreshComplete"),c=_.where(a.messages,{seen:!1}).length,c>0?d.$broadcast("FETCH_CURRENT_USER_MESSAGE_COUNT_NOTIFICATION",{new_message_count:c}):void 0})},a.fetchInbox()}]),app.controller("InboxShowCtrl",["$scope","HauserService","$stateParams","$ionicScrollDelegate",function(a,b,c,d){var e;return e=c.message_id,a.view_title="Loading ...",a.fetchMessageThreads=function(){return b.messages.get_threads(e).then(function(b){return a.threads=b.threads,a.view_title=b.view_title,a.$broadcast("scroll.refreshComplete"),d.scrollBottom()})},a.sendNewMessage=function(c){var d;return d={content:{text:c}},b.messages.reply_message(e,d).then(function(){return a.new_message="",a.fetchMessageThreads()})},a.$on("$ionicView.afterEnter",function(){return a.fetchMessageThreads()})}]),app.controller("InboxNewCtrl",["$scope","HauserService","$stateParams","$ionicHistory",function(a,b,c,d){var e,f;return f=Hauser.User.current(),e=f.houses.current_house,a.new_message="",b.houses.get_users(e.id).then(function(b){return a.users=b}),a.toggleUser=function(a){return a.selected="undefined"==typeof a.selected?!0:!a.selected},a.sendNewMessage=function(){var c,e;return e=[],angular.forEach(a.users,function(a){return a.selected?e.push(a.id):void 0}),c={user_ids:e,content:{text:a.new_message}},b.messages.new_messages(c).then(function(a){
return"message_created_successful"===a.message?d.goBack():void 0})}}]),app.controller("LandingSignUpCtrl",["$scope","$state","UserService","Notification",function(a,b,c,d){return a.user={},a.signUp=function(a){return a.first_name?a.last_name?a.email?a.password?a.password.length>7?a.password_confirmation?a.password!==a.password_confirmation?void d.error("Password confirmation doesn't match"):c.sign_up(a).then(function(a){return void 0},function(a){return d.error(a.data.error)}):void d.error("Password confirmation is required"):void d.error("Password is too short (minimum is 8 characters)"):void d.error("Password is required"):void d.error("Email is required"):void d.error("Last name is required"):void d.error("First name is required.")},a.signUpWithFacebook=function(){return c.signInOrSignUpWithFacebook()}}]),app.controller("LandingLoginCtrl",["$scope","$state","UserService","Notification",function(a,b,c,d){return a.user={},a.signIn=function(a){return a.email?a.password?c.sign_in(a).then(function(a){return void 0},function(a){return d.error(a.data.error)}):void d.error("Password is required"):void d.error("Email is required")},a.signInWithFacebook=function(){return c.signInOrSignUpWithFacebook()}}]),app.controller("MenuCtrl",["$scope","$ionicModal","$timeout","$state","HauserService",function(a,b,c,d,e){var f,g,h;return a.logout=function(){return Hauser.User.logOut(),d.go("landing.home")},a.current_user=Hauser.User.current(),h=function(){return e.current_user.get_groups().then(function(b){return a.user_groups=b})},f=function(){return e.current_user.get_unread_messages_count().then(function(b){return a.unread_messages_count=b.total})},g=function(){return e.notifications.count_unread().then(function(b){return a.unread_notifications_count=b.total})},a.fetchCurrentUserInfo=function(){return e.current_user.info().then(function(b){return a.current_user=b,Hauser.User.setData(b)})},a.$on("FETCH_CURRENT_USER_INFO_FROM_CACHE",function(){return a.current_user=Hauser.User.current()}),a.$on("FETCH_CURRENT_USER_GROUP_NOTIFICATION",function(){return h()}),a.$on("FETCH_CURRENT_USER_MESSAGE_COUNT_NOTIFICATION",function(b,c){return c.count_subtract_one&&a.unread_messages_count--,c.new_message_count?a.unread_messages_count=c.new_message_count:void 0}),a.$on("USER_NOTIFICATIONS_COUNT_notification",function(b,c){return c.count_subtract_one&&a.unread_notifications_count--,c.new_notifications_count?a.unread_notifications_count=c.new_notifications_count:void 0}),a.refeshMenu=function(){return h(),f(),g(),a.fetchCurrentUserInfo(),a.$broadcast("scroll.refreshComplete")},a.refeshMenu()}]),app.controller("NotificationsCtrl",["$scope","HauserService","$state","$rootScope",function(a,b,c,d){var e;return a.fetchNotifications=function(){return b.notifications.get_notifications().then(function(b){var c;return a.notifications=b,c=_.where(a.notifications,{seen:!1}).length,d.$broadcast("USER_NOTIFICATIONS_COUNT_notification",{new_notifications_count:c}),a.$broadcast("scroll.refreshComplete")})},e=function(a){return"inbox"===a.notification_type?(d.$broadcast("FETCH_CURRENT_USER_MESSAGE_COUNT_NOTIFICATION",{count_subtract_one:!0}),void c.go("menu.inbox-show",{message_id:a.content.message_id})):"facility_canceled"===a.notification_type?void c.go("menu.bookings-facilities-new",{facility_id:a.content.facility_id}):("feed"===a.notification_type&&c.go("menu.feed-detail",{feed_id:a.content.feed_id}),"house_verify"===a.notification_type?c.go("menu.house_verification"):void 0)},a.clickNotification=function(a){return a.seen?void e(a):b.notifications.mark_as_read(a.id).then(function(){return d.$broadcast("USER_NOTIFICATIONS_COUNT_notification",{count_subtract_one:!0}),e(a)})},a.fetchNotifications()}]),app.controller("UserConfirmAddressCtrl",["$scope","$state","$timeout","Notification","UserService","HauserService",function(a,b,c,d,e,f){return a.settings={},a.searchAddress=function(b){return b.length<5?void 0:(a.settings.keyword=b,f.houses.search_by_address(b).then(function(a){return a.length>0?a:[{address:b,id:-1}]}))},a.submitSettings=function(c){return a.submitting=!a.submitting,c.house_id?f.current_user.add_house(c.house_id,c).then(function(c){return a.submitting=!a.submitting,Hauser.User.setData(c),b.go(Hauser.User.current_house()?"menu.feed":"menu.notifications")}):(d.error("Address is required"),void(a.submitting=!a.submitting))}}]),app.factory("HauserService",["$http","$q","$state","Notification",function(a,b,c,d){var e,f,g;return f=function(){return d.error("Login is required"),c.go(HauserAppSettings.unauthorizedFallbackUrlState)},g=function(c,d,e){var g,h,i;return(g=Hauser.User.current())?(i={method:c,url:HauserAppSettings.apiBaseUrl()+d,headers:{"X-User-Email":g.email,"X-User-Token":g.authentication_token,"Content-Type":"application/json"}},void 0!==e&&(i.data=e),h=b.defer(),a(i).then(function(a){return 200===a.status?h.resolve(a.data):void 0},function(a){return h.reject(a)}),h.promise):f()},e={bookings:{get_bookings:function(){return g("get","/bookings.json")},new_booking:function(a){return g("post","/bookings.json",a)},delete_booking:function(a){return g("delete","/bookings/"+a+".json")}},current_user:{info:function(){return g("get","/users/me.json")},add_house:function(a,b){return g("post","/users/me/houses/"+a+".json",b)},get_groups:function(){return g("get","/users/me/groups.json")},get_unread_messages_count:function(){return g("get","/messages/unread/count.json")}},feeds:{get_feed:function(a){return g("get","/feeds/"+a+".json")},delete_feed:function(a){return g("delete","/feeds/"+a+".json")},like_feed:function(a){return g("post","/feeds/"+a+"/like.json")},comment_feed:function(a,b){return g("post","/feeds/"+a+"/comment.json",b)},get_feed_comments:function(a){return g("get","/feeds/"+a+"/comments.json")}},houses:{search_by_address:function(a){return g("get","/houses/search.json?address="+a)},list_feeds:function(a,b,c){return g("get","/houses/"+a+"/feeds.json?feed_type="+b+"&page="+c)},new_feeds:function(a,b){return g("post","/houses/"+a+"/feeds.json",b)},get_facilities:function(a){return g("get","/houses/"+a+"/facilities.json")},get_facility:function(a,b){return g("get","/houses/"+a+"/facilities/"+b+".json")},get_groups:function(a){return g("get","/houses/"+a+"/groups.json")},create_group:function(a,b){return g("post","/houses/"+a+"/groups.json",b)},accept_group:function(a,b){return g("post","/houses/"+a+"/groups/"+b+"/accept.json")},leave_group:function(a,b){return g("post","/houses/"+a+"/groups/"+b+"/leave.json")},join_group:function(a,b){return g("post","/houses/"+a+"/groups/"+b+"/join.json")},get_info:function(a){return g("get","/houses/"+a+".json")},get_users:function(a){return g("get","/houses/"+a+"/members.json?is_member=true")},verify_address:function(a,b){return g("post","/houses/"+a+"/verify.json",{code:b})}},messages:{get_messages:function(){return g("get","/messages.json")},new_messages:function(a){return g("post","/messages.json",a)},reply_message:function(a,b){return g("post","/messages/"+a+"/reply.json",b)},get_threads:function(a){return g("get","/messages/"+a+"/threads.json")}},notifications:{get_notifications:function(){return g("get","/notifications.json")},count_unread:function(){return g("get","/notifications/unread/count.json")},mark_as_read:function(a){return g("post","/notifications/"+a+"/read.json")}}}}]),app.factory("UserService",["$http","$state","$cordovaFacebook","$q","$ionicUser",function(a,b,c,d,e){var f,g,h;return f={},g=function(a){return e.identify({user_id:a.data.id,name:a.data.name}),Hauser.User.setData(a.data),a.data.houses.current_house?a.data.houses.current_house?b.go("menu.feed"):void 0:b.go(a.data.houses.unconfirmed.length>0?"menu.notifications":"user.confirm_address")},h=function(b){return a.post(HauserAppSettings.apiBaseUrl()+"/sessions/auth_with_facebook_token.json",{token:b}).then(function(a){return g(a)},function(a){return void 0})},f.signInOrSignUpWithFacebook=function(){var a,b;return a=function(){return c.login(["email"]).then(function(a){return a.authResponse?h(a.authResponse.accessToken):void 0},function(a){return void 0})},b=function(){return facebookConnectPlugin.browserInit(HauserAppSettings.facebookAppId),facebookConnectPlugin.login(["email"],function(a){return a.authResponse?h(a.authResponse.accessToken):void 0},function(a){return void 0})},window.cordova?a():b()},f.sign_up=function(b){var c;return c=d.defer(),a.post(HauserAppSettings.apiBaseUrl()+"/sessions/sign_up.json",b).then(function(a){return c.resolve(a),200===a.status?g(a):void 0},function(a){return c.reject(a)}),c.promise},f.sign_in=function(b){var c;return c=d.defer(),a.post(HauserAppSettings.apiBaseUrl()+"/sessions/sign_in.json",b).then(function(a){return c.resolve(a),200===a.status?g(a):void 0},function(a){return c.reject(a)}),c.promise},f}]),app.factory("HauserHelper",["$http","$q","$state","Notification",function(){var a;return a={},a.bookings={},a.bookings.default_booking_rules=function(){var a,b;return a={"7-8":!0,"8-9":!0,"9-10":!0,"10-11":!0,"11-12":!0,"12-13":!0,"13-14":!0,"14-15":!0,"15-16":!0,"16-17":!0,"17-18":!0,"18-19":!0,"19-20":!0,"20-21":!0,"21-22":!0,"22-23":!0},b={Su:a,Mo:a,Tu:a,We:a,Th:a,Fr:a,Sa:a}},a}]);