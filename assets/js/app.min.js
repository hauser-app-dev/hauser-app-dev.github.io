"use strict";var _modules;_modules=["templates-main","ionic","ngCordova","ui-notification","ion-autocomplete","ion-google-place","angularMoment","firebase","pascalprecht.translate","ionic.service.core","angular-carousel"],window.cordova&&_modules.push("ionic.service.push"),this.app=angular.module("hauser",_modules),angular.module("templates-main",["landing/landing.login.tpl.html","landing/landing.signup.tpl.html","landing/landing.tpl.html","menu/_activities/feed-detail.tpl.html","menu/_activities/feed.tpl.html","menu/_activities/modals/comment.tpl.html","menu/_activities/modals/new.tpl.html","menu/bookings/bookings.tpl.html","menu/bookings/bookings_try.tpl.html","menu/bookings/facilities/facilities.tpl.html","menu/bookings/facilities/facilities_booking.tpl.html","menu/bookings/modals/booking-show.tpl.html","menu/categories/reportcontact/reportcontact.tpl.html","menu/feedback/feedback.tpl.html","menu/groups/index.tpl.html","menu/house_try/house_info_try.tpl.html","menu/house_try/tab-contact.tpl.html","menu/house_try/tab-documents.tpl.html","menu/house_try/tab-info.tpl.html","menu/house_try/tab-report.tpl.html","menu/house_try/tabs.tpl.html","menu/house_verification/house_verification.tpl.html","menu/inbox/inbox.tpl.html","menu/inbox/new.tpl.html","menu/inbox/show.tpl.html","menu/menu.tpl.html","menu/notifications/index.tpl.html","user/user.confirm_address.tpl.html","user/user.tpl.html"]),angular.module("landing/landing.login.tpl.html",[]).run(["$templateCache",function(a){a.put("landing/landing.login.tpl.html",'<ion-content class="happy-login" scroll="false" has-bouncing="false">\n    <div class="language-setting">\n        <span ng-click="$$changeLanguage(\'en\')">English</span> &middot; <span ng-click="$$changeLanguage(\'fi\')">Suomi</span>\n    </div>\n    <div class="login-container">\n        <div class="happy-form">\n            <form name="formLogin">\n                <a class="button facebook" id="login-facebook" ng-click="facebookLogin()"><i class="icon ion-social-facebook"></i>{{ \'Login_with_Facebook\' | translate }}</a>\n                <p class="hr-header or"><span>{{ \'or\' | translate }}</span></p>\n                <input type="email" ng-model="user.email" placeholder="{{ \'Email\' | translate }}" class="top" required>\n                <input type="password" ng-model="user.password" ng-minlength="6" ng-maxlength="14" placeholder="{{ \'Password\' | translate }}" class="bottom" required>\n                <p class=legal>{{ \'By_logging_in_you_agree_to_our\' | translate }}\n                    <br><span>{{ \'Privacy_Policy\' | translate }}</span> {{ \'and\' | translate }} <span>{{ \'Terms_of_Use\' | translate }}</span></p>\n                <button ng-disabled="formLogin.$invalid" type="submit" class="button submit" ng-click="signIn(user)">{{ \'Get_Started\' | translate }}</button>\n            </form>\n        </div>\n        <div class="links clear-fix"><span class="register" ui-sref="landing.signup">{{ \'Create_Account\' | translate }}</span> <span class="forgot-password" ng-click="password()">{{ \'Forgot_Password\' | translate }}</span></div>\n    </div>\n</ion-content>')}]),angular.module("landing/landing.signup.tpl.html",[]).run(["$templateCache",function(a){a.put("landing/landing.signup.tpl.html",'<ion-content class="happy-login" scroll="false" has-bouncing="false">\n    <div class="language-setting">\n        <span ng-click="$$changeLanguage(\'en\')">English</span> &middot; <span ng-click="$$changeLanguage(\'fi\')">Suomi</span>\n    </div>\n    <div class="login-container">\n        <div class="happy-form">\n            <form name="formRegister">\n                <a class="button facebook" id="login-facebook" ng-click="facebookRegister()"><i class="icon ion-social-facebook"></i>{{ \'Sign_Up_with_Facebook\' | translate }}</a>\n                <p class="hr-header or"><span>{{ \'or\' | translate }}</span></p>\n                <!--                 <div class="name">\n                    <input type="text" ng-model="user.first_name" ng-minlength="2" ng-maxlength="12" placeholder="{{ \'First_Name\' | translate }}" class="top first-name" required>\n                    <input type="text" ng-model="user.last_name" ng-minlength="2" ng-maxlength="20" placeholder="{{ \'Last_Name\' | translate }}" class="top last-name" required>\n                </div> -->\n                <input type="text" ng-model="user.first_name" ng-minlength="1" placeholder="{{ \'First_Name\' | translate }}" class="top" required>\n                <input type="text" ng-model="user.last_name" ng-minlength="1" placeholder="{{ \'Last_Name\' | translate }}" required>\n                <input type="email" ng-model="user.email" placeholder="{{ \'Email\' | translate }}" required>\n                <input type="password" ng-model="user.password" ng-pattern="/^[A-Z0-9\\\\.\\\\,\\\\?\\\\;\\\\|\\\\$\\\\@#\\\\&\\\\!%\\\\+\\\\(\\\\)\\\\-\\\\^\\\\*]{6,14}$/i" placeholder="{{ \'Password_6_characters\' | translate }}" class="bottom" required>\n                <p class="legal">{{ \'By_registering_you_agree_to_our\' | translate }}\n                    <br><span>{{ \'Privacy_Policy\' | translate }}</span> {{ \'and\' | translate }} <span>{{ \'Terms_of_Use\' | translate }}</span></p>\n                <button ng-disabled="formRegister.$invalid" type="submit" class="button submit" ng-click="registerUser(user)">{{ \'Sign_Me_Up\' | translate }}!</button>\n            </form>\n        </div>\n        <div class="links single"><span class="login" ui-sref="landing.login">{{ \'Have_an_Account_Login\' | translate }}</span></div>\n    </div>\n</ion-content>')}]),angular.module("landing/landing.tpl.html",[]).run(["$templateCache",function(a){a.put("landing/landing.tpl.html",'<ion-view hide-nav-bar="true">\n  <ion-pane id=\'landingPage\'>\n    <div data-ui-view=""></div>\n  </ion-pane>\n</ion-view>\n')}]),angular.module("menu/_activities/feed-detail.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/_activities/feed-detail.tpl.html",'<ion-view view-title="{{view_title}}" cache-view="false" class=".feed_detail">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-more" ng-click="clickMoreBtn()"></div>\n    </ion-nav-buttons>\n    <ion-content class="has-footer">\n        <div class="list card" ng-if="feed">\n            <div class="item item-avatar">\n                <img ng-src="{{::feed.content.from.avatar}}">\n                <h2>{{::feed.content.from.name}}</h2>\n                <p am-time-ago="::feed.created_at"></p>\n            </div>\n            <div class="item item-body">\n                <feed-images-carousel image-urls="::feed.content.imageUrls" ng-if="feed.content.imageUrls"></feed-images-carousel>\n                <p>\n                    <p>{{::feed.content.text}}</p>\n                    <p>\n                        <a class="subdued">{{feed.total_thanks}} {{ \'Thanks\' | translate }}</a>\n                        <a class="subdued">{{feed.total_likes}} {{ \'Likes\' | translate }}</a>\n                        <a class="subdued">{{feed.total_comments}} {{ \'Comments\' | translate }}</a>\n                    </p>\n            </div>\n        </div>\n        <div class="card list" ng-if="comments.length > 0">\n            <a class="item item-avatar item-icon-right" ng-repeat="comment in comments">\n                <img ng-src="{{::comment.user_avatar}}">\n                <h2>{{::comment.user_name}}</h2>\n                <p>{{::comment.content}}</p>\n                <p am-time-ago="::comment.created_at"></p>\n            </a>\n        </div>\n    </ion-content>\n    <div class="bar bar-footer item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="text" placeholder="{{ \'Send_a_comment\' | translate }}" ng-model="new_comment">\n        </label>\n        <button class="button button-clear button-balanced" ng-click="send_new_comment()">{{ \'Comment\' | translate }}</button>\n    </div>\n</ion-view>')}]),angular.module("menu/_activities/feed.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/_activities/feed.tpl.html",'<ion-view view-title="{{::view_title}}">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-plus-empty" ng-click="newFeedBtnDidClicked()"></div>\n    </ion-nav-buttons>\n    <ion-content delegate-handle="feeds_content">\n        <ion-refresher on-refresh="fetchFeeds(1)">\n        </ion-refresher>\n        <div class="card" ng-if="feeds.length == 0">\n            <div class="item item-text-wrap">\n                {{ \'There_is_no_content_yet\' | translate }}. <a ng-click="newFeedBtnDidClicked()">{{ \'Click_here\' | translate }}</a> {{ \'to_create_new_content\' | translate }}\n            </div>\n        </div>\n        <div class="list card" ng-repeat="feed in feeds">\n            <div class="item item-avatar">\n                <img ng-src="{{::feed.content.from.avatar}}">\n                <h2>{{::feed.content.from.name}}</h2>\n                <p am-time-ago="::feed.created_at"></p>\n            </div>\n            <div class="item item-body" ui-sref="menu.feed-detail({feed_id: feed.id})">\n                <img class="full-image" ng-src="{{::feed.content.imageUrls[0]}}" ng-if="::feed.content.imageUrls">\n                <p>\n                    <p>{{::feed.content.text}}</p>\n                    <p>\n                        <a class="subdued">{{feed.total_thanks}} {{ \'Thanks\' | translate }}</a>\n                        <a class="subdued">{{feed.total_likes}} {{ \'Likes\' | translate }}</a>\n                        <a class="subdued">{{feed.total_comments}} {{ \'Comments\' | translate }}</a>\n                    </p>\n            </div>\n            <div class="item tabs tabs-secondary tabs-icon-left">\n                <a class="tab-item" ng-click="thank_feed(feed)">\n                    <i class="icon ion-happy-outline"></i> {{ \'Thank\' | translate }}\n                </a>\n                <a class="tab-item" ng-click="like_feed(feed)">\n                    <i class="icon ion-thumbsup"></i> {{ \'Like\' | translate }}\n                </a>\n                <a class="tab-item" ng-click="comment_feed(feed)">\n                    <i class="icon ion-chatbox"></i> {{ \'Comment\' | translate }}\n                </a>\n            </div>\n        </div>\n        <ion-infinite-scroll on-infinite="loadMoreFeeds()" distance="1%" ng-if"!feeds_reach_the_final_page">\n        </ion-infinite-scroll>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/_activities/modals/comment.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/_activities/modals/comment.tpl.html",'<ion-modal-view>\n    <ion-header-bar class="bar-assertive">\n        <h1 class="title">{{ \'Comments\' | translate }}</h1>\n        <button class="button button-icon button-clear ion-ios-close-empty" ng-click="closeModal()"></button>\n    </ion-header-bar>\n    <ion-content delegate-handle="comment_modal_content" class="has-footer">\n        <div class="list">\n            <a class="item item-avatar item-icon-right" ng-repeat="comment in modal.comments">\n                <img ng-src="{{::comment.user_avatar}}">\n                <h2>{{::comment.user_name}}</h2>\n                <p>{{::comment.content}}</p>\n                <p am-time-ago="::comment.created_at"></p>\n            </a>\n        </div>\n    </ion-content>\n    <div class="bar bar-footer item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="text" placeholder="{{ \'Send_a_comment\' | translate }}" ng-model="modal.new_comment">\n        </label>\n        <button class="button button-clear button-balanced" ng-click="modal.send_new_comment()">{{ \'Comment\' | translate }}</button>\n    </div>\n</ion-modal-view>')}]),angular.module("menu/_activities/modals/new.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/_activities/modals/new.tpl.html",'<ion-modal-view>\n    <ion-header-bar class="bar-assertive">\n        <button class="button button-icon button-clear ion-ios-arrow-left" ng-click="closeModal()"></button>\n        <h1 class="title">{{ \'New\' | translate }}</h1>\n        <button class="button button-clear button-icon ion-ios-paperplane" ng-click="modal.submitNewFeed(modal.feed)"></button>\n    </ion-header-bar>\n\n    <ion-content class="padding new_feed_form">\n        <div class="list feed_images" ng-if="modal.feed.images.length > 0">\n            <div class="row">\n                <div class="col" ng-repeat="image in modal.feed.images" style="background-image:url(data:image/jpeg;base64,{{image}});"></div>\n            </div>\n        </div>\n        <form ng-submit="modal.submitNewFeed(modal.feed)">\n            <div class="list">\n                <label class="item item-input item-stacked-label">\n                    <textarea style="height:80px;" ng-model=\'modal.feed.content.text\' placeholder="{{ \'What_is_on_your_mind\' | translate }}"></textarea>\n                </label>\n                <label class="item item-input" ng-if="!modal.is_photo_upload_ready">\n                    <span class="input-label">{{ \'Photo_Url\' | translate }}</span>\n                    <input type="text" name=\'description\' ng-model="modal.feed.imageUrl">\n                </label>\n                <div style="text-align: center;" ng-if="modal.is_photo_upload_ready">\n                    <button class="button button-small button-outline button-balanced" ng-click="modal.addPhotoBtnClicked(1)" style="margin:0; width: 47%;"><i class="icon ion-ios-camera"></i> {{ \'Camera\' | translate }}</button>\n                    <button class="button button-small button-outline button-balanced" ng-click="modal.addPhotoBtnClicked(0)" style="margin:0; width: 47%;"><i class="icon ion-ios-color-filter"></i> {{ \'Photo\' | translate }}</button>\n                </div>\n                <input type="submit" id="submit" value="Submit" style="opacity:0;height:0px;margin:0;padding:0" />\n            </div>\n        </form>\n    </ion-content>\n\n<!-- \n    <ion-content>\n        <div class="list card" ng-if="modal.feed.images.length > 0" style="height:100px">\n            <div class="row">\n                <div class="col" ng-repeat="image in modal.feed.images">\n                    <img class="full-image" ng-src="data:image/jpeg;base64,{{image}}">\n                </div>\n            </div>\n        </div>\n        <form ng-submit="modal.submitNewFeed(modal.feed)">\n            <div class="list">\n                <label class="item item-input item-stacked-label">\n                    <textarea style="height:100px;" ng-model=\'modal.feed.content.text\' placeholder="{{ \'What_is_on_your_mind\' | translate }}"></textarea>\n                </label>\n                <label class="item item-input" ng-if="!modal.is_photo_upload_ready">\n                    <span class="input-label">{{ \'Photo_Url\' | translate }}</span>\n                    <input type="text" name=\'description\' ng-model="modal.feed.imageUrl">\n                </label>\n                <input type="submit" id="submit" value="Submit" style="opacity:0;height:0px;margin:0;padding:0" />\n            </div>\n        </form>\n\n        <div class="list padding">           \n                        <ion-radio ng-repeat="item in modal.share_options" ng-value="item.value" ng-model="modal.feed.share_option">\n                {{ item.text }}\n            </ion-radio>\n        </div>\n        <div class="row" style="padding:0;margin:0" ng-if="modal.is_photo_upload_ready">\n            <div class="col col-15" style="padding:0;margin:0"></div>\n            <div class="col col-30" style="margin:0;padding-top:0;padding-bottom:0">\n                <button class="button button-block button-small button-outline button-positive" ng-click="modal.addPhotoBtnClicked(1)" style="margin:0"><i class="icon ion-ios-camera"></i> {{ \'Camera\' | translate }}</button>\n            </div>\n            <div class="col col-30" style="margin:0;padding-top:0;padding-bottom:0">\n                <button class="button button-block button-small button-outline button-positive" ng-click="modal.addPhotoBtnClicked(0)" style="margin:0"><i class="icon ion-ios-color-filter"></i> {{ \'Photo\' | translate }}</button>\n            </div>\n            <div class="col col-15" style="padding:0;margin:0"></div>\n        </div>\n    </ion-content>\n     -->\n</ion-modal-view>')}]),angular.module("menu/bookings/bookings.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/bookings/bookings.tpl.html",'<ion-view view-title="{{ \'Booking\' | translate }}" cache-view="false">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-plus-empty" ui-sref="menu.bookings-facilities"></div>\n    </ion-nav-buttons>\n    <ion-content has-bouncing="true">\n        <div class="card" ng-if="bookings_by_date.length == 0">\n            <div class="item item-text-wrap">\n                {{ \'You_dont_have_any_booking\' | translate }}. <a ui-sref="menu.bookings-facilities">{{ \'Click_here\' | translate }}</a> {{ \'to_create_new_booking\' | translate }}\n            </div>\n        </div>\n        <div class="list" ng-repeat="booking_by_date in bookings_by_date">\n            <div class="item item-divider">{{::booking_by_date.date | amDateFormat:\'dddd, MMMM Do YYYY\'}}</div>\n            <div class="item item-avatar item-button-right" ng-repeat="booking in booking_by_date.bookings" ng-click="openBookingModal(booking)">\n                <img ng-src="{{::booking.info.facility.thumbnail}}" ng-if="::booking.info.facility.thumbnail">\n                <img src="https://lh3.googleusercontent.com/-Asj0Hulfxio/AAAAAAAAAAI/AAAAAAAAACI/XtdfH7u7i4Y/photo.jpg" ng-if="::!booking.info.facility.thumbnail">\n                <h2>{{::booking.info.facility.name}}</h2>\n                <p>{{::booking.booking_slot}}</p>\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/bookings/bookings_try.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/bookings/bookings_try.tpl.html",'<ion-view view-title="{{ \'Booking\' | translate }}" cache-view="false">\n    <ion-content class="happy-login request booking" scroll="false" has-bouncing="false">\n        <div class="login-container">\n            <div class="happy-form">\n                <form>\n                    <p class="legal">{{ \'This_feature_is_not_available_in_your_house_yet\' | translate }}.\n                        <br>\n                        <a ng-click="$$requestFeature(\'booking\')"><span>{{ \'Click_here\' | translate }}</span></a> \n                        {{ \'to_request_this_feature_or_try_our\' | translate }} \n                        <a ui-sref="menu.bookings-facilities-new({ facility_id: 0 })"><span>{{ \'demo\' | translate }}</span></a>\n                    </p>\n                    <button type="submit" class="button submit red" ng-click="$$requestFeature(\'booking\')">{{ \'Request_this_feature\' | translate }}</button>\n                    <p class="hr-header or"><span>{{ \'or\' | translate }}</span></p>\n                    <button type="submit" class="button submit" ui-sref="menu.bookings-facilities-new({ facility_id: 0 })">{{ \'Try_our_demo\' | translate }}</button>\n                </form>\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/bookings/facilities/facilities.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/bookings/facilities/facilities.tpl.html",'<ion-view view-title="{{ \'Facilities\' | translate }}" cache-view="false">\n    <ion-content has-bouncing="true">\n\n        <div class="list">\n            <a class="item item-avatar" ng-repeat="facility in facilities" ui-sref="menu.bookings-facilities-new({ facility_id: facility.id })">\n                <img ng-src="{{::facility.thumbnail}}" ng-if="::facility.thumbnail">\n                <img src="https://lh3.googleusercontent.com/-Asj0Hulfxio/AAAAAAAAAAI/AAAAAAAAACI/XtdfH7u7i4Y/photo.jpg" ng-if="::!facility.thumbnail">\n                <h2>{{::facility.name}}</h2>\n            </a>\n        </div>        \n    </ion-content>\n</ion-view>')}]),angular.module("menu/bookings/facilities/facilities_booking.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/bookings/facilities/facilities_booking.tpl.html",'<ion-view view-title="{{view_title}}" cache-view="false">\n    <ion-content has-bouncing="true" class="facility-booking-detail-content">\n        <ion-scroll direction="x" id="date-scroll">\n            <div class="date-item" ng-repeat="date in date_arr" ng-click="select_date(date)" ng-class="{selected: date == current_date}">\n                {{date | amDateFormat:\'dd DD\'}}\n            </div>\n        </ion-scroll>\n        <div class="date-detail">{{current_date | amDateFormat:\'dddd, MMMM Do YYYY\'}}</div>\n        <div class="padding">\n            <div ng-repeat="slot in slots_in_date_arr[current_date_string]">\n                <div ng-if="!bookings[current_date_string][slot]">\n                    <button class="button button-block button-light" ng-click="book_slot(slot, current_date)">{{slot}}: {{ \'Free\' | translate }}</button>\n                </div>\n                <div ng-if="bookings[current_date_string][slot]">\n                    <button class="button button-block button-balanced" ng-click="edit_slot(bookings[current_date_string][slot])" ng-if="current_user.id == bookings[current_date_string][slot][\'user\'][\'id\']">\n                        {{slot}}: {{bookings[current_date_string][slot][\'user\'][\'name\']}}\n                    </button>\n                    <button class="button button-block button-assertive" ng-if="current_user.id != bookings[current_date_string][slot][\'user\'][\'id\']">\n                        {{slot}}: {{bookings[current_date_string][slot][\'user\'][\'name\']}}\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="card" ng-if="slots_in_date_arr[current_date_string].length == 0 && slots_in_date_arr">\n            <div class="item item-text-wrap">\n                {{ \'There_is_no_available_slots\' | translate }}\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/bookings/modals/booking-show.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/bookings/modals/booking-show.tpl.html",'<ion-modal-view>\n    <ion-header-bar class="bar-assertive">\n        <h1 class="title">{{ \'Booking_info\' | translate }}</h1>\n        <button class="button button-icon button-clear ion-ios-close-empty" ng-click="closeModal()"></button>\n    </ion-header-bar>\n    <ion-content overflow-scroll=\'true\'>\n        <div class="list card">\n            <div class="item item-avatar">\n                <img ng-src="{{::modal.booking.info.facility.thumbnail}}">\n                <h2>{{::modal.booking.info.facility.name}}</h2>\n                <p>{{::modal.booking.booking_date}} | {{::modal.booking.booking_slot}}</p>\n            </div>\n        </div>\n        <div class="padding">\n            <button class="button button-block button-positive button-outline" ng-if="::modal.booking.info.facility.invitable">\n                <strong>{{ \'Invite_friends\' | translate }}</strong>\n            </button>\n\n            <button class="button button-block button-positive button-outline" ng-if="::modal.booking.info.facility.payable">\n                <strong>{{ \'Call_to_pay\' | translate }}</strong>\n            </button>\n\n            <button class="button button-block button-assertive button-outline" ng-click="modal.deleteBooking(modal.booking)">\n                <strong>{{ \'Delete\' | translate }}</strong>\n            </button>\n        </div>\n    </ion-content>\n</ion-modal-view>')}]),angular.module("menu/categories/reportcontact/reportcontact.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/categories/reportcontact/reportcontact.tpl.html",'<ion-view view-title="{{ \'Report_Contact\' | translate }}">\n  <ion-content>\n    <form ng-submit=\'supportForm.submit()\'>\n      <div class="list">\n        <label class="item item-input">\n          <span class="input-label">{{ \'Name\' | translate }}</span>\n          <input type="text" name=\'name\' ng-model="supportForm.name" required>\n        </label>\n        <label class="item item-input">\n          <span class="input-label">{{ \'Email\' | translate }}</span>\n          <input type="email" name=\'email\' ng-model="supportForm.email" required>\n        </label>\n        <label class="item item-input item-stacked-label">\n'+"          <textarea class='support-text' ng-model='supportForm.content' placeholder=\"{{ 'Enter_your_feedback_or_comment' | translate }}.\" ></textarea>\n        </label>\n      </div>\n    </form>\n  </ion-content>\n</ion-view>")}]),angular.module("menu/feedback/feedback.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/feedback/feedback.tpl.html",'<ion-view view-title="{{ \'Feedback\' | translate }}">\n    <ion-content class="happy-login request help" scroll="false" has-bouncing="false">\n        <div class="login-container">\n            <div class="happy-form">\n                <form>\n                    <p class="legal">{{ \'HELP_FEEDBACK_TEXT\' | translate }}.</p>\n                    <button class="button submit red" ng-click="sendFeedback()">{{ \'Send_feedback\' | translate }}</button>\n                    <p class="hr-header or"><span>{{ \'or\' | translate }}</span></p>\n                    <a class="button submit" href="tel:+358504265910">{{ \'Give_us_a_call\' | translate }}</a>\n                </form>\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/groups/index.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/groups/index.tpl.html",'<ion-view view-title="{{ \'Groups\' | translate }}" cache-view="false">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-plus-empty" ng-click="create_group_btn_click()"></div>\n    </ion-nav-buttons>\n    <ion-content>\n        <div class="list" ng-if="new_form_visibility">\n            <div class="item item-input-inset">\n                <label class="item-input-wrapper">\n                    <input type="text" placeholder="{{ \'Name\' | translate }}" ng-model="group_name">\n                </label>\n                <button class="button button-icon icon ion-ios-close-empty" style="padding: 3px" ng-click="closeNewForm()"></button>\n                <button class="button button-icon icon ion-ios-checkmark-empty" style="padding: 3px" ng-click="createNewGroup(group_name)"></button>\n            </div>\n        </div>\n        <div ng-if="!new_form_visibility">\n            <div class="list" ng-if="groups.my_groups.length > 0">\n                <div class="item item-divider">{{ \'My_Groups\' | translate }}</div>\n                <a class="item item-icon-left item-button-right" ng-repeat="group in groups.my_groups">\n                    <i class="icon" ng-class="::group.icon"></i> {{::group.name}}\n                    <button class="button button-clear button-assertive" style="font-size: 14px" ng-click="leave_group(group)">{{ \'Leave\' | translate }}</button>\n                </a>\n            </div>\n            <div class="list" ng-if="groups.public_groups.length > 0">\n                <div class="item item-divider">{{ \'Groups\' | translate }}</div>\n                <a class="item item-icon-left item-button-right" ng-repeat="group in groups.public_groups">\n                    <i class="icon" ng-class="::group.icon"></i> {{::group.name}}\n                    <button class="button button-clear button-energized" style="font-size: 14px" ng-click="join_group(group)">{{ \'Join\' | translate }}</button>\n                </a>\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/house_try/house_info_try.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/house_try/house_info_try.tpl.html",'<ion-view view-title="{{ \'House_Info\' | translate }}" cache-view="false">\n    <ion-content class="happy-login request house_info" scroll="false" has-bouncing="false">\n        <div class="login-container">\n            <div class="happy-form">\n                <form>\n                    <p class="legal">{{ \'This_feature_is_not_available_in_your_house_yet\' | translate }}.\n                        <br>\n                        <a ng-click="$$requestFeature(\'house_info\')"><span>{{ \'Click_here\' | translate }}</span></a> \n                        {{ \'to_request_this_feature_or_try_our\' | translate }} \n                        <a ui-sref="menu.house_try.info"><span>{{ \'demo\' | translate }}</span></a>\n                    </p>\n                    <button type="submit" class="button submit red" ng-click="$$requestFeature(\'house_info\')">{{ \'Request_this_feature\' | translate }}</button>\n                    <p class="hr-header or"><span>{{ \'or\' | translate }}</span></p>\n                    <button type="submit" class="button submit" ui-sref="menu.house_try.info">{{ \'Try_our_demo\' | translate }}</button>\n                </form>\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/house_try/tab-contact.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/house_try/tab-contact.tpl.html",'<ion-view view-title="{{ \'Contact\' | translate }}">\n    <ion-content>\n        <div class="list">\n            <div class="item item-divider">{{ \'Board_members\' | translate }}</div>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/venkman.jpg">\n                <h2>Venkman</h2>\n                <p>Chairman</p>\n            </a>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/spengler.jpg">\n                <h2>Egon</h2>\n                <p>Vice Chairman</p>\n            </a>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/stantz.jpg">\n                <h2>Ray</h2>\n                <p>Vice Chairman</p>\n            </a>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/winston.jpg">\n                <h2>Winston</h2>\n                <p>Accountant</p>\n            </a>\n            <div class="item item-divider">{{ \'Property_managers\' | translate }}</div>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/stantz.jpg">\n                <h2>Ray</h2>\n                <p>Vice Chairman</p>\n            </a>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/winston.jpg">\n                <h2>Winston</h2>\n                <p>Accountant</p>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/house_try/tab-documents.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/house_try/tab-documents.tpl.html",'<ion-view view-title="{{ \'Documents\' | translate }}">\n    <ion-content class="padding">\n        <div class="list card">\n            <div class="item item-divider energized-bg">\n                House Plans\n            </div>\n            <div class="item item-text-wrap">\n                In hac habitasse platea dictumst. Etiam in semper neque. Nullam ac ex vehicula, semper velit ut, semper ante.\n            </div>\n            <div class="item item-image">\n                <img src="http://www.newtraditionhomes.com/uploads/floorplans/viewer/99-main-floor-811.jpg">\n            </div>\n        </div>\n        <div class="list">\n            <div class="item item-divider balanced-bg">Documents</div>\n            <div class="item">Järjestyssäännöt.pdf</div>\n            <div class="item">Pelastussuunnitelma.pdf</div>\n            <div class="item">Rakennuspiirustukset.pdf</div>\n            <div class="item">Yhtiojarjestys MALLI.pdf</div>\n        </div>\n        <div class="card">\n            <div class="item item-divider light positive-bg">\n                Praesent vel neque dictum, placerat sem\n            </div>\n            <div class="item item-text-wrap">\n                Praesent vel neque dictum, placerat sem venenatis, imperdiet odio. Mauris lectus nunc, gravida a semper ac, consequat sed justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n            </div>\n        </div>\n        <div class="card">\n            <div class="item item-divider light assertive-bg">\n                Lorem ipsum dolor sit amet\n            </div>\n            <div class="item item-text-wrap">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque maximus nisl id erat porttitor, non blandit nisl ultricies. Praesent tincidunt mi at gravida tincidunt. Mauris eget consectetur sapien. Donec sagittis, nisl sit amet tincidunt finibus, sapien metus consectetur enim, at molestie justo eros a ante. Nam sodales nulla eget nibh consectetur, eu tempor lectus cursus. In hac habitasse platea dictumst. Etiam in semper neque. Nullam ac ex vehicula, semper velit ut, semper ante. Curabitur vel dignissim diam. Nulla at purus pharetra, tristique justo a, semper dui. Pellentesque posuere arcu dui, vitae dictum enim imperdiet vel. Praesent vel neque dictum, placerat sem venenatis, imperdiet odio. Mauris lectus nunc, gravida a semper ac, consequat sed justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n            </div>\n        </div>\n    </ion-content>\n</ion-view>');

}]),angular.module("menu/house_try/tab-info.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/house_try/tab-info.tpl.html",'<ion-view view-title="{{ \'House_Info\' | translate }}" cache-view="false">\n    <ion-content>\n        <h4 style="text-align:center">{{::house.address}}</h4>\n<!--         <ion-slide-box>\n            <ion-slide ng-repeat="image in house.images">\n                <div class="item item-body">\n                    <img class="full-image" ng-src="{{::image}}">\n                </div>\n            </ion-slide>\n        </ion-slide-box> -->\n        \n        <div class="list" ng-if="house.perustiedot">\n            <div class="item item-divider">\n                Perustiedot\n            </div>\n            <a class="item" ng-repeat="item in house.perustiedot">\n                {{::item.key}}\n                <span class="item-note">{{::item.value}}</span>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/house_try/tab-report.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/house_try/tab-report.tpl.html",'<ion-view view-title="{{ \'Report\' | translate }}">\n    <ion-content>\n        <div class="list">\n            <div class="item item-divider">{{ \'Board_members\' | translate }}</div>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/venkman.jpg">\n                <h2>Venkman</h2>\n                <p>Chairman</p>\n            </a>\n            <a class="item item-avatar" href="#">\n                <img src="http://ionicframework.com/img/docs/spengler.jpg">\n                <h2>Egon</h2>\n                <p>Vice Chairman</p>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/house_try/tabs.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/house_try/tabs.tpl.html",'<ion-view cache-view="false">\n    <ion-tabs class="tabs-icon-top">\n        <ion-tab title="{{ \'Info\' | translate }}" icon="ion-ios-home" ui-sref="menu.house_try.info">\n            <ion-nav-view name="tab-house-info"></ion-nav-view>\n        </ion-tab>\n\n        <ion-tab title="{{ \'Documents\' | translate }}" icon="ion-clipboard" ui-sref="menu.house_try.documents">\n            <ion-nav-view name="tab-house-documents"></ion-nav-view>\n        </ion-tab>\n\n        <ion-tab title="{{ \'Contact\' | translate }}" icon="ion-ios-telephone" ui-sref="menu.house_try.contact">\n            <ion-nav-view name="tab-house-contact"></ion-nav-view>\n        </ion-tab>\n\n        <ion-tab title="{{ \'Report\' | translate }}" icon="ion-alert-circled" ui-sref="menu.house_try.report">\n            <ion-nav-view name="tab-house-report"></ion-nav-view>\n        </ion-tab>\n    </ion-tabs>\n</ion-view>')}]),angular.module("menu/house_verification/house_verification.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/house_verification/house_verification.tpl.html",'<ion-view view-title="{{ \'Verification\' | translate }}">\n    <ion-content>\n        <div class="card" ng-if="!current_house.is_verified">\n            <div class="item item-text-wrap">\n                {{ \'THANKYOU_AND_VERIFICATION_TEXT\' | translate }}\n            </div>\n        </div>\n        <div class="card" ng-if="!current_house.is_verified">\n            <div class="item item-divider">{{current_house.full_address}}</div>\n            <div class="item item-input-inset">\n                <label class="item-input-wrapper">\n                    <input type="text" ng-model="verification_code" placeholder="{{ \'Verification_code\' | translate }}">\n                </label>\n                <button class="button button-small button-clear button-assertive" style="font-size: 14px" ng-click="verfity_house(verification_code)">{{ \'Verify\' | translate }}</button>\n            </div>\n        </div>\n        <div class="card" ng-if="current_house.is_verified">\n            <div class="item item-text-wrap">\n                {{ \'VERIFICATION_CONFIRMED_TEXT\' | translate }}\n            </div>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/inbox/inbox.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/inbox/inbox.tpl.html",'<ion-view view-title="{{ \'Inbox\' | translate }}" cache-view="false">\n    <ion-nav-buttons side="right">\n        <div class="button button-icon button-clear ion-ios-plus-empty" ui-sref="menu.inbox-new"></div>\n    </ion-nav-buttons>\n    <ion-content>\n        <ion-refresher on-refresh="fetchInbox()">\n        </ion-refresher>\n        <div class="card" ng-if="messages.length == 0">\n            <div class="item item-text-wrap">\n                {{ \'You_dont_have_any_messages\' | translate }}. <a ui-sref="menu.inbox-new">{{ \'Click_here\' | translate }}</a> {{ \'to_send_messages_to_your_neighbors\' | translate }}\n            </div>\n        </div>\n        <div class="list">\n            <a class="item item-avatar item-icon-right" ng-repeat="message in messages" ng-class="{new_message: !message.read}" ng-click="goToMessageThread(message)">\n                <img ng-src="{{::message.latest_from_avatar}}">\n                <h2>{{::message.latest_from_name}}</h2>\n                <p ng-if="::message.latest_content.text">{{::message.latest_content.text}}</p>\n                <p am-time-ago="::message.updated_at"></p>\n                <i class="icon ion-ios-glasses-outline" ng-if="::!message.read"></i>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("menu/inbox/new.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/inbox/new.tpl.html",'<ion-view view-title="{{ \'New\' | translate }}" cache-view="false">\n    <div class="bar bar-subheader item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios-search placeholder-icon"></i>\n            <input type="search" placeholder="{{ \'Search\' | translate }}" ng-model="query">\n        </label>\n    </div>\n    <ion-content class="has-footer has-subheader">\n        <div class="list">\n            <a class="item item-avatar item-icon-right" ng-repeat="user in users | filter:query | orderBy: \'name\'" ng-click="toggleUser(user)">\n                <img ng-src="{{::user.avatar}}">\n                <h2>{{::user.name}}</h2>\n                <i class="icon ion-android-checkbox-outline-blank" ng-if="!user.selected"></i>\n                <i class="icon ion-android-checkbox-outline" ng-if="user.selected"></i>\n            </a>\n        </div>\n    </ion-content>\n    <div class="bar bar-footer item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="text" placeholder="{{ \'Send_a_message\' | translate }}" ng-model="new_message">\n        </label>\n        <button class="button button-clear button-balanced" ng-click="sendNewMessage()">{{ \'Send\' | translate }}</button>\n    </div>\n</ion-view>')}]),angular.module("menu/inbox/show.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/inbox/show.tpl.html",'<ion-view view-title="{{view_title}}" cache-view="false">\n    <ion-content class="has-footer">\n        <ion-refresher on-refresh="fetchMessageThreads()">\n        </ion-refresher>\n        <div class="list">\n            <a class="item item-avatar" ng-repeat="thread in threads">\n                <img ng-src="{{::thread.from_avatar}}">\n                <h2>{{::thread.from_name}}</h2>\n                <p ng-if="::thread.content.text" style="white-space:normal">{{::thread.content.text}}</p>\n                <p am-time-ago="::thread.created_at"></p>\n            </a>\n        </div>\n    </ion-content>\n    <div class="bar bar-footer item-input-inset">\n        <label class="item-input-wrapper">\n            <i class="icon ion-ios7-search placeholder-icon"></i>\n            <input type="text" placeholder="{{ \'Reply_a_message\' | translate }}" ng-model="new_message">\n        </label>\n        <button class="button button-clear button-balanced" ng-click="sendNewMessage(new_message)">{{ \'Reply\' | translate }}</button>\n    </div>\n</ion-view>')}]),angular.module("menu/menu.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/menu.tpl.html",'<ion-side-menus enable-menu-with-back-views="false" id="menuPage" cache-view="false">\n    <ion-side-menu-content>\n        <ion-nav-bar class="bar-balanced">\n            <ion-nav-back-button>\n            </ion-nav-back-button>\n            <ion-nav-buttons side="left">\n                <button class="button button-icon button-clear ion-navicon" menu-toggle="left">\n                    <span ng-if="(unload_notifications_count + unread_messages_count) > 0" class="badge badge-assertive" style="top: -32px !important;left: 14px !important;font-size: 8px;line-height:10px;">{{unload_notifications_count + unread_messages_count}}</span>\n                </button>\n            </ion-nav-buttons>\n        </ion-nav-bar>\n        <ion-nav-view name="menuContent"></ion-nav-view>\n    </ion-side-menu-content>\n    \n    <ion-side-menu side="left">\n        <ion-header-bar align-title="left" class="bar-dark">\n            <div class="buttons">\n                <div class="button customer-header-avatar" style="background-image: url({{current_user.avatar}});"></div>\n            </div>\n            <h1 class="title">{{current_user.name}}</h1>\n            <div class="buttons">\n                <div class="button button-icon button-clear ion-ios-flag button-custom" nav-clear menu-close ui-sref="menu.notifications"><span class="badge badge-assertive" ng-if="unload_notifications_count > 0" style="top:-12px;right:8px;font-size: 8px;line-height:10px;" nav-clear menu-close ui-sref="menu.notifications">{{unload_notifications_count}}</span></div>\n            </div>\n        </ion-header-bar>\n        <ion-content>\n            <ion-list>\n                <ion-refresher on-refresh="refeshMenu()">\n                </ion-refresher>\n                <div class="item item-divider item-icon-right item-dark">\n                    {{current_house.full_address}}\n                </div>\n                <ion-item nav-clear menu-close ui-sref="menu.feed" ui-sref-active="current" class="item-icon-left item-royal" ng-click="refreshFeedCache(\'feed\')">\n                    <i class="icon ion-social-rss"></i> {{ \'Feed\' | translate }}\n                </ion-item>\n                <ion-item nav-clear menu-close ui-sref="menu.inbox" class="item-icon-left item-royal">\n                    <i class="icon ion-ios-email"></i> {{ \'Inbox\' | translate }}\n                    <span class="badge badge-assertive" ng-if="unread_messages_count > 0">{{unread_messages_count}}</span>\n                </ion-item>\n\n                <ion-item nav-clear menu-close ui-sref="menu.bookings" class="item-icon-left item-royal" ng-if="current_house.is_paid">\n                    <i class="icon ion-ios-calendar-outline"></i> {{ \'Booking\' | translate }}\n                </ion-item>\n                <ion-item nav-clear menu-close ui-sref="menu.bookings_try" class="item-icon-left item-royal" ng-if="!current_house.is_paid">\n                    <i class="icon ion-ios-calendar-outline"></i> {{ \'Booking\' | translate }}\n                </ion-item>\n<!-- \n                <ion-item nav-clear menu-close ui-sref="menu.reportcontact" class="item-icon-left item-royal">\n                    <i class="icon ion-ios-telephone"></i> {{ \'Contact\' | translate }}\n                </ion-item>\n                 -->\n<!-- \n                <ion-item nav-clear menu-close ui-sref="menu.documents.info" class="item-icon-left item-royal" ng-if="current_house.is_paid">\n                    <i class="icon ion-document"></i> {{ \'Documents\' | translate }}\n                </ion-item>\n                 -->\n                <ion-item nav-clear menu-close ui-sref="menu.house_info_try" class="item-icon-left item-royal" ng-if="!current_house.is_paid">\n                    <i class="icon ion-document"></i> {{ \'House_Info\' | translate }}\n                </ion-item>\n\n\n                <div class="item item-divider item-icon-right item-dark" ui-sref="menu.groups" nav-clear menu-close>\n                    {{ \'Groups\' | translate }}\n                    <i class="icon ion-ios-arrow-right"></i>\n                </div>\n                <ion-item nav-clear menu-close ng-repeat="group in user_groups | orderBy:\'id\'" ui-sref="menu.group({group_id: group.id, group_feed_type: group.feed_type, group_name: group.name})" class="item-icon-left item-royal" ng-click="refreshFeedCache(group.feed_type)">\n                    <i class="icon" ng-class="group.icon"></i> {{group.name}}\n                </ion-item>\n                <div class="item item-divider item-dark">{{ \'Settings\' | translate }}</div>\n                <ion-item nav-clear menu-close ui-sref="menu.feedback" class="item-icon-left item-royal">\n                    <i class="icon ion-chatbox-working"></i> {{ \'Feedback\' | translate }}\n                </ion-item>\n                <ion-item nav-clear menu-close ui-sref="menu.house_verification" class="item-icon-left item-royal" ng-if="!current_house.is_verified">\n                    <i class="icon ion-ios-unlocked"></i> {{ \'Account_Verification\' | translate }}\n                </ion-item>\n                <ion-item nav-clear menu-close ng-click="logout()" class="item-icon-left item-royal">\n                    <i class="icon ion-power" style="font-size: 20px;"></i> {{ \'Logout\' | translate }}\n                </ion-item>\n            </ion-list>\n        </ion-content>\n    </ion-side-menu>\n</ion-side-menus>')}]),angular.module("menu/notifications/index.tpl.html",[]).run(["$templateCache",function(a){a.put("menu/notifications/index.tpl.html",'<ion-view view-title="{{ \'Notifications\' | translate }}" cache-view="false">\n    <ion-content>\n        <ion-refresher on-refresh="fetchNotifications()">\n        </ion-refresher>\n        <div class="list">\n            <a class="item item-avatar" ng-repeat="notification in notifications" ng-click="clickNotification(notification)" ng-class="{new_message: !notification.read}">\n                <img ng-src="{{::notification.content.user.avatar}}">\n                <h2>{{::notification.content.user.name}}</h2>\n                <p style="white-space:normal">{{::notification.content.text}}</p>\n                <p am-time-ago="::notification.updated_at"></p>\n            </a>\n        </div>\n    </ion-content>\n</ion-view>')}]),angular.module("user/user.confirm_address.tpl.html",[]).run(["$templateCache",function(a){a.put("user/user.confirm_address.tpl.html",'<ion-content class="happy-login" scroll="false" has-bouncing="false">\n    <div class="login-container">\n        <div class="happy-form">\n            <form name="formLogin">\n                <a class="button facebook">{{ \'Where_do_you_live\' | translate }} ?</a>\n                <div>\n                    <ion-google-place placeholder="{{ \'Street\' | translate }}" ng-model="location" class="top" required/>\n                </div>\n                <input type="text" ng-model="location.custom_fields.street_number" placeholder="{{ \'Street_number\' | translate }}" required>\n                <input type="text" ng-model="location.custom_fields.apartment_number" placeholder="{{ \'Apartment_number\' | translate }}">\n                <input type="text" ng-model="location.custom_fields.postcode" placeholder="{{ \'Postcode\' | translate }}">\n                <input type="text" ng-model="location.custom_fields.country" placeholder="{{ \'Country\' | translate }}" class="bottom" >\n                <p class=legal></p>\n                <button ng-disabled="formLogin.$invalid" type="submit" class="button submit" ng-click="submitLocation(location.custom_fields)">{{ \'Submit\' | translate }}</button>\n            </form>\n        </div>\n    </div>\n</ion-content>\n<!-- \n<ion-content overflow-scroll=\'true\'>\n    <a class="button button-icon ion-ios-close-empty back-button" ui-sref=\'landing.home\'>\n    </a>\n</ion-content>\n<section class=\'bottom-section\'>\n    <form name=\'signupForm\'>\n        <div class="list">\n            <label class="item title">\n                <strong></strong>\n            </label>\n            <label class="item item-input">\n                <span class="input-label">Street</span>\n                <ion-autocomplete ng-model="settings.street" items-method="searchStreet(query)" item-value-key="street" item-view-value-key="street"/>\n            </label>\n            <label class="item item-input">\n                <span class="input-label">Street number</span>\n                <input type="number" name=\'street_number\' ng-model="settings.street_number">\n            </label>\n            <label class="item item-input">\n                <span class="input-label">Apartment number</span>\n                <input type="text" name=\'apartment_number\' ng-model="settings.apartment_number">\n            </label>   \n            <label class="item item-input">\n                <span class="input-label">Postcode</span>\n                <input type="text" name=\'postcode\' ng-model="settings.postcode">\n            </label>  \n        </div>\n    </form>\n</section>\n -->')}]),angular.module("user/user.tpl.html",[]).run(["$templateCache",function(a){a.put("user/user.tpl.html",'<ion-view hide-nav-bar="true">\n  <ion-pane id=\'landingPage\'>\n    <div data-ui-view=""></div>\n  </ion-pane>\n</ion-view>\n')}]),app.run(["$ionicPlatform",function(a){return console.log("app.run $ionicPlatform ..."),a.ready(function(){return console.log("ionicPlatform READY ..."),window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar?StatusBar.styleLightContent():void 0})}]),app.config(["$ionicAppProvider",function(a){return console.log("app.config $ionicAppProvider ..."),a.identify({app_id:"396f222f",api_key:"484495543d8fe51269fa55cf545c3e31c625514e595305ea"})}]),app.config(["$ionicConfigProvider",function(a){return console.log("app.config $ionicConfigProvider ..."),a.backButton.previousTitleText(!1).text("").icon("ion-ios-arrow-back"),a.tabs.style("standard").position("bottom"),a.navBar.alignTitle("center")}]),app.constant("$ionicLoadingConfig",{template:'<ion-spinner icon="android" class="spinner-balanced"></ion-spinner>'}),app.run(["amMoment",function(a){return console.log("app.run $amMoment ..."),a.changeLocale("en")}]),app.run(["$rootScope","HauserService","HauserPublicService","$ionicLoading","Notification","$ionicPopup",function(a,b,c,d,e,f){var g;return a.$$requestFeature=function(a){var c;return c={house_id:Hauser.User.current_house().id,content:a},d.show(),b.requests.new_request(c).then(function(a){return d.hide(),e.error({message:a.message,delay:1e3})},function(){return d.hide()})},g=function(){return f.confirm({title:"Update",template:"Your version of Hauser is out of date. Please update your app in appstore"}).then(function(a){return console.log(a)})},a.$$checkUpdate=function(){return d.show(),c.get_version().then(function(a){return d.hide(),a.version!==HauserAppSettings.version?g():void 0},function(){return d.hide()})},console.log("checkUpdate from $rootScope"),a.$$checkUpdate()}]),app.config(["$stateProvider","$urlRouterProvider",function(a,b){return console.log("app.config $stateProvider ..."),b.otherwise("/landing/login"),a.state("landing",{url:"/landing","abstract":!0,templateUrl:"landing/landing.tpl.html",data:{authenticate:!1}}),a.state("landing.signup",{url:"/signup",templateUrl:"landing/landing.signup.tpl.html",controller:"LandingSignUpCtrl"}),a.state("landing.login",{url:"/login",templateUrl:"landing/landing.login.tpl.html",controller:"LandingLoginCtrl"}),a.state("user",{url:"/user","abstract":!0,templateUrl:"user/user.tpl.html",data:{authenticate:!0}}),a.state("user.confirm_address",{url:"/confirm_address",templateUrl:"user/user.confirm_address.tpl.html",controller:"UserConfirmAddressCtrl"}),a.state("menu",{url:"/menu","abstract":!0,templateUrl:"menu/menu.tpl.html",controller:"MenuCtrl",data:{authenticate:!0}}),a.state("menu.notifications",{url:"/notifications",views:{menuContent:{templateUrl:"menu/notifications/index.tpl.html",controller:"NotificationsCtrl"}}}),a.state("menu.feed",{url:"/feed",views:{menuContent:{templateUrl:"menu/_activities/feed.tpl.html",controller:"FeedsCtrl"}},data:{house_verification:!0,feed_type:"feed",view_title:{en:"Feed",fi:"Uutiset"}}}),a.state("menu.feed-detail",{url:"/feed-detail/:feed_id",views:{menuContent:{templateUrl:"menu/_activities/feed-detail.tpl.html",controller:"FeedDetailCtrl"}},data:{house_verification:!0}}),a.state("menu.inbox",{url:"/inbox",views:{menuContent:{templateUrl:"menu/inbox/inbox.tpl.html",controller:"InboxCtrl"}},data:{house_verification:!0}}),a.state("menu.inbox-new",{url:"/inbox-new",views:{menuContent:{templateUrl:"menu/inbox/new.tpl.html",controller:"InboxNewCtrl"}},data:{house_verification:!0}}),a.state("menu.inbox-show",{url:"/inbox/:message_id",views:{menuContent:{templateUrl:"menu/inbox/show.tpl.html",controller:"InboxShowCtrl"}},data:{house_verification:!0}}),a.state("menu.bookings",{url:"/bookings",views:{menuContent:{controller:"BookingsCtrl",templateUrl:"menu/bookings/bookings.tpl.html"}},data:{house_verification:!0}}),a.state("menu.bookings_try",{url:"/bookings_try",views:{menuContent:{controller:"BookingsTryCtrl",templateUrl:"menu/bookings/bookings_try.tpl.html"}},data:{house_verification:!0}}),a.state("menu.bookings-facilities",{url:"/bookings/facilities",views:{menuContent:{controller:"BookingsFacilitiesCtrl",templateUrl:"menu/bookings/facilities/facilities.tpl.html"}},data:{house_verification:!0}}),a.state("menu.bookings-facilities-new",{url:"/bookings/facilities/:facility_id/booking",views:{menuContent:{controller:"BookingsFacilitiesNewCtrl",templateUrl:"menu/bookings/facilities/facilities_booking.tpl.html"}},data:{house_verification:!0}}),a.state("menu.house_info_try",{url:"/house_info_try",views:{menuContent:{templateUrl:"menu/house_try/house_info_try.tpl.html"}},data:{house_verification:!0}}),a.state("menu.house_try",{url:"/house_try","abstract":!0,views:{menuContent:{templateUrl:"menu/house_try/tabs.tpl.html"}},data:{house_verification:!0}}),a.state("menu.house_try.info",{url:"/info",views:{"tab-house-info":{controller:"HouseInfoTryCtrl",templateUrl:"menu/house_try/tab-info.tpl.html"}}}),a.state("menu.house_try.documents",{url:"/documents",views:{"tab-house-documents":{controller:"HouseDocumentsTryCtrl",templateUrl:"menu/house_try/tab-documents.tpl.html"}}}),a.state("menu.house_try.contact",{url:"/contact",views:{"tab-house-contact":{templateUrl:"menu/house_try/tab-contact.tpl.html"}}}),a.state("menu.house_try.report",{url:"/report",views:{"tab-house-report":{templateUrl:"menu/house_try/tab-report.tpl.html"}}}),a.state("menu.reportcontact",{url:"/reportcontact",views:{menuContent:{templateUrl:"menu/categories/reportcontact/reportcontact.tpl.html"}},data:{house_verification:!0}}),a.state("menu.groups",{url:"/groups",views:{menuContent:{templateUrl:"menu/groups/index.tpl.html",controller:"GroupsCtrl"}},data:{house_verification:!0}}),a.state("menu.group",{url:"/group/:group_id/:group_feed_type/:group_name",views:{menuContent:{templateUrl:"menu/_activities/feed.tpl.html",controller:"FeedsCtrl"}},data:{house_verification:!0,is_group:!0}}),a.state("menu.house_verification",{url:"/house_verification",views:{menuContent:{templateUrl:"menu/house_verification/house_verification.tpl.html",controller:"HouseVerificationCtrl"}}}),a.state("menu.feedback",{url:"/feedback",views:{menuContent:{templateUrl:"menu/feedback/feedback.tpl.html",controller:"FeedbackCtrl"}}})}]),app.run(["$rootScope","$stateParams","$state",function(a,b,c){return console.log("app.run $stateChangeStart ..."),a.$on("$stateChangeStart",function(a,b){var d,e;if(e=function(b){return c.go(b),a.preventDefault()},d=Hauser.User.current()){if(!b.data.authenticate)return e("menu.feed")}else if(b.data.authenticate)return console.log("chuyen sang login/sign up view (modal)"),e("landing.login")})}]),app.config(["$translateProvider",function(a){return a.useStaticFilesLoader({prefix:"assets/i18n/",suffix:".js"}),a.preferredLanguage("en")}]),app.run(["$rootScope","$translate",function(a,b){return a.$$changeLanguage=function(a){return console.log(a),b.use(a)}}]),window.cordova?app.controller("AppCtrl",["$scope","$rootScope","$ionicPush","$ionicUser","Notification","$ionicPlatform","HauserService",function(a,b,c,d,e,f,g){var h,i,j,k;return console.log("AppCtrl"),h=function(){return console.log("checkUpdate from AppCtrl"),b.$$checkUpdate()},k=function(){return c.register({canShowAlert:!0,canSetBadge:!0,canPlaySound:!0,canRunActionsOnWake:!0,onNotification:function(a){return console.log("onNotification ...."),console.log(a),b.$broadcast("PUSH_NOTIFICATION_RECEIVED"),e.success(a.alert)}})},i=function(){var a;return console.log("identifyUser"),a=Hauser.User.current(),a?d.identify({user_id:a.id,name:a.name}).then(function(){return k()}):void 0},j=function(){return h(),f.on("resume",function(){return console.log("app resume.."),h(),b.$broadcast("APP_RESUME_NOTIFICATION")}),i(),a.$on("HAUSER_USER_LOGIN_SUCCESSFULLY",function(){return i()}),b.$on("$cordovaPush:tokenReceived",function(a,b){return console.log("$cordovaPush:tokenReceived"),console.log(b),g.current_user.update_device_token({device_token:b.token,platform:b.platform})})},f.ready(function(){return j()})}]):app.controller("AppCtrl",["$scope",function(){}]),app.controller("BookingsTryCtrl",["$scope","HauserService","$ionicPopup","$ionicModal",function(){return console.log("BookingsTryCtrl")}]),app.controller("BookingsCtrl",["$scope","HauserService","$ionicPopup","$ionicModal",function(a,b,c,d){var e,f;return f=function(){return a.current_house=Hauser.User.current_house(),b.current_house.info().then(function(b){return Hauser.User.setCurrentHouse(b),a.current_house=Hauser.User.current_house()})},e=function(){return b.bookings.get_bookings().then(function(b){return a.bookings_by_date=b})},a.openBookingModal=function(f){return d.fromTemplateUrl("menu/bookings/modals/booking-show.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(d){return a.modal=d,a.modal.booking=f,a.modal.deleteBooking=function(d){return c.confirm({title:"Delete booking",template:"Do you want to delete this slot?<br><b>"+d.booking_date+": "+d.booking_slot+"</b>"}).then(function(c){return c?b.bookings.delete_booking(d.id).then(function(){return e(),a.closeModal()}):void 0})},a.modal.show().then(function(){})})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},e(),f()}]),app.controller("BookingsFacilitiesCtrl",["$scope","HauserService",function(a,b){var c;return c=Hauser.User.current_house(),b.houses.get_facilities(c.id).then(function(b){return a.facilities=b})}]),app.controller("BookingsFacilitiesNewCtrl",["$scope","HauserService","$stateParams","$firebaseObject","HauserHelper","$ionicLoading","$ionicModal","$ionicPopup",function(a,b,c,d,e,f,g,h){var i,j,k,l;return j=c.facility_id,a.view_title="Loading ...",a.current_user=Hauser.User.current(),i=Hauser.User.current_house(),k=function(b){var c;return c=new Firebase(b+"/facilities/"+j+"/booking"),a.bookings=d(c)},l=function(){return b.houses.get_facility(i.id,j).then(function(b){var c,d,f,g,h,i,j;for(a.view_title=b.name,g=b.firebase_base_url,g||(g=HauserAppSettings.firebaseUrl),k(g),f=b.booking_rules,f||(f=e.bookings.default_booking_rules()),a.date_arr=[],a.slots_in_date_arr={},h=i=0;13>=i;h=++i){d=moment().add(h,"days"),a.date_arr.push(d),a.slots_in_date_arr[d.format("YYYY-MM-DD")]=[],c=f[d.format("dd")];for(j in c)c[j]&&a.slots_in_date_arr[d.format("YYYY-MM-DD")].push(j)}return a.select_date(a.date_arr[0])})},a.select_date=function(b){return a.current_date=b,a.current_date_string=a.current_date.format("YYYY-MM-DD")},a.book_slot=function(a,c){var d;return d={booking_date:c.format("YYYY-MM-DD"),booking_slot:a,booking_type:"facility",facility_id:j},f.show(),b.bookings.new_booking(d).then(function(){return f.hide()},function(){return f.hide()})},a.edit_slot=function(c){return c.user.id===a.current_user.id?b.bookings.get_booking(c.user.booking_id).then(function(c){return console.log(c),g.fromTemplateUrl("menu/bookings/modals/booking-show.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(d){return a.modal=d,a.modal.booking=c,a.modal.deleteBooking=function(c){return h.confirm({title:"Delete booking",template:"Do you want to delete this slot?<br><b>"+c.booking_date+": "+c.booking_slot+"</b>"}).then(function(d){return d?(f.show(),b.bookings.delete_booking(c.id).then(function(){return a.closeModal(),f.hide()},function(){return f.hide()})):void 0})},a.modal.show().then(function(){})})}):void 0},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},a.$on("$ionicView.afterEnter",function(){return l()})}]),app.controller("FeedbackCtrl",["$scope","$ionicModal","$timeout","$state","HauserService","Notification","$translate","$stateParams","$ionicScrollDelegate","$cordovaCamera","$ionicPlatform","$ionicLoading","$ionicPopup",function(a,b,c,d,e,f,g,h,i,j,k,l){return a.sendFeedback=function(){return b.fromTemplateUrl("menu/_activities/modals/new.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.feed={content:{},share_option:"house_only",feed_type:"feedback",images:[]},a.modal.is_photo_upload_ready=!1,window.cordova&&(a.modal.is_photo_upload_ready=!0),a.modal.show().then(function(){}),a.modal.addPhotoBtnClicked=function(b){return k.ready(function(){var c;return c={quality:35,destinationType:Camera.DestinationType.DATA_URL,sourceType:b,encodingType:Camera.EncodingType.JPEG,targetWidth:500,targetHeight:350,correctOrientation:!0,saveToPhotoAlbum:!1},j.getPicture(c).then(function(b){return a.modal.feed.images.push(b)},function(a){return console.log(a)})})},a.modal.submitNewFeed=function(b){return b.content.text?(l.show(),e.houses.new_feeds(Hauser.User.current_house().id,b).then(function(){return l.hide(),f.success({message:"Thank you for your feedback",delay:2e3}),a.closeModal()},function(){return l.hide()})):void f.error({message:"Text is required",delay:2e3})}})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})}}]),app.controller("FeedsCtrl",["$scope","$ionicModal","$timeout","$state","HauserService","Notification","$translate","$stateParams","$ionicScrollDelegate","$cordovaCamera","$ionicPlatform","$ionicLoading","$ionicPopup",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n,o,p,q;return d.current.data.feed_type&&(a._feed_type=d.current.data.feed_type,o=g.proposedLanguage()||g.use(),a.view_title=d.current.data.view_title[o]),d.current.data.is_group&&(a._feed_type=h.group_feed_type,a.view_title=h.group_name),n=Hauser.User.current_house(),a.fetchFeeds=function(b){var c,d;return c=b,d="",d="feed"===a._feed_type?a._feed_type+",feed_join_house":a._feed_type,e.houses.list_feeds(n.id,d,b).then(function(c){return console.log(c),2>b&&(a.feeds=[]),0===c.length&&(a.feeds_reach_the_final_page=!0),angular.forEach(c,function(b){return b.content.image_ids&&(b.images=[],angular.forEach(b.content.image_ids,function(a){return b.images.push(HauserAppSettings.imagesCdnBaseUrl+"/"+a+".jpg")})),a.feeds.push(b)}),a.$broadcast("scroll.refreshComplete"),a.$broadcast("scroll.infiniteScrollComplete")})},a.loadMoreFeeds=function(){return a.feeds_reach_the_final_page?void a.$broadcast("scroll.infiniteScrollComplete"):a.fetchFeeds(p+1)},a.thank_feed=function(a){return e.feeds.thank_feed(a.id).then(function(){return a.total_thanks=a.total_thanks+1})},a.like_feed=function(a){return e.feeds.like_feed(a.id).then(function(){return a.total_likes=a.total_likes+1})},a.comment_feed=function(c){return b.fromTemplateUrl("menu/_activities/modals/comment.tpl.html",{scope:a,
animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.feed=c,a.modal.new_comment="",a.modal.modal_type="new_comment_type",a.modal.fetchComments=function(){return e.feeds.get_feed_comments(c.id).then(function(b){return a.modal.comments=b,i.$getByHandle("comment_modal_content").scrollBottom(!0)})},a.modal.send_new_comment=function(){return""!==a.modal.new_comment?e.feeds.comment_feed(c.id,{content:a.modal.new_comment}).then(function(b){return a.modal.new_comment="",a.modal.feed.total_comments+=1,a.modal.comments.push(b)}):void 0},a.modal.show().then(function(){return a.modal.fetchComments()})})},a.newFeedBtnDidClicked=function(){return b.fromTemplateUrl("menu/_activities/modals/new.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.modal_type="new_feed_modal",a.modal.feed={content:{},share_option:"house_only",feed_type:a._feed_type,images:[]},a.modal.is_photo_upload_ready=!1,window.cordova&&(a.modal.is_photo_upload_ready=!0),a.modal.show().then(function(){}),a.modal.addPhotoBtnClicked=function(b){return k.ready(function(){var c;return c={quality:35,destinationType:Camera.DestinationType.DATA_URL,sourceType:b,encodingType:Camera.EncodingType.JPEG,targetWidth:500,targetHeight:350,correctOrientation:!0,saveToPhotoAlbum:!1},j.getPicture(c).then(function(b){return a.modal.feed.images.push(b)},function(a){return console.log(a)})})},a.modal.submitNewFeed=function(b){return b.content.text?m.confirm({title:"Sharing option",template:'<i class="icon ion-person-stalker"></i>Do you want to share this post with your closed by neighbors (within 300m)?',cancelText:"Yes",okText:"No. Only share in "+n.address,cssClass:"feed-sharing-option",cancelType:"button-block",okType:"button-block"}).then(function(c){return c||(a.modal.feed.share_option="house_and_neighbors"),l.show(),e.houses.new_feeds(n.id,b).then(function(b){return l.hide(),a.feeds.unshift(b),a.closeModal()},function(){return l.hide()})}):void f.error({message:"Text is required",delay:2e3})}})},a.closeModal=function(){return a.modal.hide().then(function(){return"new_comment_type"===a.modal.modal_type&&a.modal.comments.length>a.modal.feed.comments&&(a.modal.feed.comments=a.modal.comments.length),a.modal.remove()})},p=1,a.feeds_reach_the_final_page=!1,a.feeds=[],q=function(){return p=1,a.feeds_reach_the_final_page=!1,a.feeds=[],i.$getByHandle("feeds_content").scrollTop(!0),a.fetchFeeds(p)},a.$on("$ionicView.afterEnter",function(){var b;return console.log("$ionicView.afterEnter ..."+a._feed_type),b=localStorage.getItem("reset_cache_config_"+a._feed_type),console.log(b),_.isNull(b)&&(console.log("NULL"),q(),localStorage.setItem("reset_cache_config_"+a._feed_type,"false")),"true"===b?(console.log("TRUE"),q(),localStorage.setItem("reset_cache_config_"+a._feed_type,"false")):void 0})}]),app.controller("FeedDetailCtrl",["$scope","$state","HauserService","$stateParams","$ionicScrollDelegate","$ionicActionSheet","$ionicHistory","$ionicLoading",function(a,b,c,d,e,f,g,h){var i,j,k;return i=d.feed_id,a.view_title="Loading ...",j=function(){return c.feeds.get_feed(i).then(function(b){return a.feed=b,a.view_title=b.content.text,a.feed.content.image_ids?(a.feed.images=[],angular.forEach(a.feed.content.image_ids,function(b){return a.feed.images.push(HauserAppSettings.imagesCdnBaseUrl+"/"+b+".jpg")})):void 0})},k=function(){return c.feeds.get_feed_comments(i).then(function(b){return a.comments=b})},a.send_new_comment=function(){return""!==a.new_comment?(h.show(),c.feeds.comment_feed(i,{content:a.new_comment}).then(function(b){return h.hide(),a.new_comment="",a.comments.push(b)},function(){return h.hide()})):void 0},a.clickMoreBtn=function(){var b,d;return d=Hauser.User.current(),b={buttons:[{text:"<b>Share</b> This"}],cancelText:"Cancel",buttonClicked:function(a){return 1===a&&c.feeds.delete_feed(i).then(function(){return g.goBack()}),!0}},d.id===a.feed.content.from.user_id&&b.buttons.push({text:"Delete"}),f.show(b)},a.$on("$ionicView.afterEnter",function(){return j(),k()})}]),app.controller("GroupsCtrl",["$scope","Notification","HauserService","$rootScope","$ionicLoading",function(a,b,c,d,e){var f,g;return f=Hauser.User.current_house(),a.new_form_visibility=!1,g=function(){return c.houses.get_groups(f.id).then(function(b){return a.groups=b,d.$broadcast("FETCH_CURRENT_USER_GROUP_NOTIFICATION",a.groups)})},a.join_group=function(a){return c.houses.join_group(f.id,a.id).then(function(){return g()})},a.leave_group=function(a){return c.houses.leave_group(f.id,a.id).then(function(){return g()})},a.create_group_btn_click=function(){return a.new_form_visibility=!0},a.closeNewForm=function(){return a.new_form_visibility=!1},a.createNewGroup=function(d){return d?(e.show(),c.houses.create_group(f.id,{name:d}).then(function(){return g(),a.new_form_visibility=!1,e.hide()},function(a){return b.error(a),e.hide()})):void b.error("Name is required")},g()}]),app.controller("HouseInfoTryCtrl",["$scope","$ionicModal","$timeout","$state","HauserService","Notification",function(a,b,c,d,e){var f;return f=Hauser.User.current_house(),a.fetchHouse=function(){return e.houses.get_info(f.id).then(function(b){return a.house=b})},a.$on("$ionicView.afterEnter",function(){return a.fetchHouse()})}]),app.controller("HouseDocumentsTryCtrl",["$scope","$ionicModal","$timeout","$state","HauserService","Notification",function(a,b,c,d,e){var f;return f=Hauser.User.current_house(),a.fetchHouse=function(){return e.houses.get_info(f.id).then(function(b){return a.house=b})},a.$on("$ionicView.afterEnter",function(){return a.fetchHouse()})}]),app.controller("HouseVerificationCtrl",["$scope","$rootScope","HauserService","Notification","$state",function(a,b,c,d){return a.current_house=Hauser.User.current_house(),a.verfity_house=function(e){return e?c.houses.verify_address(a.current_house.id,e).then(function(c){return d.success("Your house is verified"),Hauser.User.setData(c),a.current_house=Hauser.User.current_house(),b.$broadcast("FETCH_CURRENT_HOUSE_INFO_FROM_CACHE")},function(a){return d.error(a.data.error)}):d.error("verification_code is required")}}]),app.controller("InboxCtrl",["$scope","HauserService","$state","$rootScope",function(a,b,c,d){return a.current_user=Hauser.User.current(),a.goToMessageThread=function(a){return c.go("menu.inbox-show",{message_id:a.id}),a.seen?void 0:d.$broadcast("FETCH_CURRENT_USER_MESSAGE_COUNT_NOTIFICATION",{count_subtract_one:!0})},a.fetchInbox=function(){return b.messages.get_messages().then(function(b){var c;return a.messages=b,a.$broadcast("scroll.refreshComplete"),c=_.where(a.messages,{seen:!1}).length,c>0?d.$broadcast("FETCH_CURRENT_USER_MESSAGE_COUNT_NOTIFICATION",{new_message_count:c}):void 0})},a.fetchInbox()}]),app.controller("InboxShowCtrl",["$scope","HauserService","$stateParams","$ionicScrollDelegate",function(a,b,c,d){var e;return e=c.message_id,a.view_title="Loading ...",a.fetchMessageThreads=function(){return b.messages.get_threads(e).then(function(b){return a.threads=b.threads,a.view_title=b.view_title,a.$broadcast("scroll.refreshComplete"),d.scrollBottom()})},a.sendNewMessage=function(c){var d;return d={content:{text:c}},b.messages.reply_message(e,d).then(function(){return a.new_message="",a.fetchMessageThreads()})},a.$on("$ionicView.afterEnter",function(){return a.fetchMessageThreads()})}]),app.controller("InboxNewCtrl",["$scope","HauserService","$stateParams","$ionicHistory",function(a,b,c,d){var e,f;return f=Hauser.User.current(),e=Hauser.User.current_house(),a.new_message="",b.houses.get_users(e.id).then(function(b){return a.users=b}),a.toggleUser=function(a){return a.selected="undefined"==typeof a.selected?!0:!a.selected},a.sendNewMessage=function(){var c,e;return e=[],angular.forEach(a.users,function(a){return a.selected?e.push(a.id):void 0}),c={user_ids:e,content:{text:a.new_message}},b.messages.new_messages(c).then(function(a){return"message_created_successful"===a.message?d.goBack():void 0})}}]),app.controller("LandingLoginCtrl",["$scope","$state","UserService","Notification",function(a,b,c,d){return a.user={},a.signIn=function(a){return a.email?a.password?c.sign_in(a).then(function(){},function(a){return d.error(a.data.error)}):void d.error("Password is required"):void d.error("Email is required")},a.facebookLogin=function(){return c.signInOrSignUpWithFacebook()}}]),app.controller("LandingSignUpCtrl",["$scope","$state","UserService","Notification","$ionicLoading",function(a,b,c,d){return a.user={},a.registerUser=function(a){return a.first_name?a.last_name?a.email?a.password?a.password.length>7?(a.password_confirmation=a.password,c.sign_up(a).then(function(a){return console.log(a)},function(a){return d.error(a.data.error)})):void d.error("Password is too short (minimum is 8 characters)"):void d.error("Password is required"):void d.error("Email is required"):void d.error("Last name is required"):void d.error("First name is required.")},a.facebookRegister=function(){return c.signInOrSignUpWithFacebook()}}]),app.controller("MenuCtrl",["$scope","$ionicModal","$timeout","$state","HauserService",function(a,b,c,d,e){var f,g,h,i;return a.current_user=Hauser.User.current(),a.current_house=Hauser.User.current_house(),a.logout=function(){return Hauser.User.logOut(),d.go("landing.login")},f=function(){return e.current_house.info().then(function(b){return Hauser.User.setCurrentHouse(b),a.current_house=Hauser.User.current_house()})},i=function(){return e.current_user.get_groups().then(function(b){return a.user_groups=b})},h=function(){return e.current_user.get_unread_messages_count().then(function(b){return a.unread_messages_count=b.total})},g=function(){return e.notifications.count_unload().then(function(b){return a.unload_notifications_count=b.total})},a.fetchCurrentUserInfo=function(){return e.current_user.info().then(function(b){return Hauser.User.setData(b),a.current_user=Hauser.User.current()})},a.refeshMenu=function(){return i(),h(),g(),f(),a.fetchCurrentUserInfo(),a.$broadcast("scroll.refreshComplete")},a.refreshFeedCache=function(a){var b;return b="reset_cache_config_"+a,_.isNull(localStorage.getItem(b))?void 0:localStorage.setItem(b,"true")},a.$on("FETCH_CURRENT_USER_INFO_FROM_CACHE",function(){return a.current_user=Hauser.User.current()}),a.$on("FETCH_CURRENT_HOUSE_INFO_FROM_CACHE",function(){return a.current_house=Hauser.User.current_house()}),a.$on("FETCH_CURRENT_USER_GROUP_NOTIFICATION",function(b,c){return a.user_groups=c.my_groups}),a.$on("FETCH_CURRENT_USER_MESSAGE_COUNT_NOTIFICATION",function(b,c){return c.count_subtract_one&&a.unread_messages_count--,c.new_message_count?a.unread_messages_count=c.new_message_count:void 0}),a.$on("USER_NOTIFICATIONS_RESET_UNLOAD_COUNT",function(){return a.unload_notifications_count=0}),a.$on("APP_RESUME_NOTIFICATION",function(){return a.refeshMenu()}),a.$on("PUSH_NOTIFICATION_RECEIVED",function(){return a.refeshMenu()}),a.refeshMenu()}]),app.controller("NotificationsCtrl",["$scope","HauserService","$state","$rootScope",function(a,b,c,d){var e;return a.fetchNotifications=function(){return b.notifications.get_notifications().then(function(b){return a.notifications=b,d.$broadcast("USER_NOTIFICATIONS_RESET_UNLOAD_COUNT"),a.$broadcast("scroll.refreshComplete")})},e=function(a){return"inbox"===a.notification_type?(d.$broadcast("FETCH_CURRENT_USER_MESSAGE_COUNT_NOTIFICATION",{count_subtract_one:!0}),void c.go("menu.inbox-show",{message_id:a.content.message_id})):"facility_canceled"===a.notification_type?void c.go("menu.bookings-facilities-new",{facility_id:a.content.facility_id}):("feed"===a.notification_type&&c.go("menu.feed-detail",{feed_id:a.content.feed_id}),"house_verify"===a.notification_type?c.go("menu.house_verification"):void 0)},a.clickNotification=function(a){return a.seen?void e(a):b.notifications.mark_as_read(a.id).then(function(){return e(a)})},a.fetchNotifications()}]),app.controller("UserConfirmAddressCtrl",["$scope","$state","$timeout","Notification","HauserService","$ionicLoading",function(a,b,c,d,e,f){return Hauser.User.current_house()&&b.go("menu.feed"),a.submitLocation=function(a){return a.street?a.street_number?a.postcode?(f.show(),e.current_user.add_house(a).then(function(a){return Hauser.User.setData(a),f.hide(),b.go(Hauser.User.current_house().is_verified?"menu.feed":"menu.house_verification")},function(){return f.hide()})):void d.error("Postcode is required"):void d.error("Street number is required"):void d.error("Street is required")}}]),app.directive("feedImagesCarousel",["$compile",function(){return{restrict:"E",scope:{imageUrls:"=imageUrls",containerHeight:"=containerHeight"},template:'<ul rn-carousel rn-carousel-auto-slide rn-carousel-controls class="image" style="height:240px;"> <li ng-repeat="imageUrl in imageUrls"> <div style="height:100%;width:100%; background-image: url({{imageUrl}});background-size: cover;"></div> </li> </ul>'}}]),app.factory("HauserService",["$http","$q","$state","Notification",function(a,b,c,d){var e,f,g;return f=function(){return d.error("Login is required"),c.go(HauserAppSettings.unauthorizedFallbackUrlState)},g=function(d,e,g){var h,i,j;return(h=Hauser.User.current())?(j={method:d,url:HauserAppSettings.apiBaseUrl+e,headers:{"X-User-Email":h.email,"X-User-Token":h.authentication_token,"Content-Type":"application/json"}},void 0!==g&&(j.data=g),i=b.defer(),a(j).then(function(a){return 200===a.status?i.resolve(a.data):void 0},function(a){return 401===a.status&&"wrong_token"===a.data.error&&(Hauser.User.logOut(),c.go(HauserAppSettings.unauthorizedFallbackUrlState)),console.log(a),i.reject(a)}),i.promise):f()},e={"public":{search_street:function(a){return g("get","/public/search.json?type=street&q="+a)},search_postcode:function(a){return g("get","/public/search.json?type=postcode&q="+a)}},bookings:{get_bookings:function(){return g("get","/bookings.json")},get_booking:function(a){return g("get","/bookings/"+a+".json")},new_booking:function(a){return g("post","/bookings.json",a)},delete_booking:function(a){return g("delete","/bookings/"+a+".json")}},current_house:{info:function(){return g("get","/users/me/house.json")}},current_user:{info:function(){return g("get","/users/me.json")},add_house:function(a){return g("post","/users/me/house.json",a)},get_groups:function(){return g("get","/users/me/groups.json")},get_unread_messages_count:function(){return g("get","/messages/unread/count.json")},update_device_token:function(a){return g("post","/users/me/device_token.json",a)}},feeds:{get_feed:function(a){return g("get","/feeds/"+a+".json")},delete_feed:function(a){return g("delete","/feeds/"+a+".json")},thank_feed:function(a){return g("post","/feeds/"+a+"/thank.json")},like_feed:function(a){return g("post","/feeds/"+a+"/like.json")},comment_feed:function(a,b){return g("post","/feeds/"+a+"/comment.json",b)},get_feed_comments:function(a){return g("get","/feeds/"+a+"/comments.json")}},houses:{list_feeds:function(a,b,c){return g("get","/houses/"+a+"/feeds.json?feed_type="+b+"&page="+c)},new_feeds:function(a,b){return g("post","/houses/"+a+"/feeds.json",b)},get_facilities:function(a){return g("get","/houses/"+a+"/facilities.json")},get_facility:function(a,b){return g("get","/houses/"+a+"/facilities/"+b+".json")},get_groups:function(a){return g("get","/houses/"+a+"/groups.json")},create_group:function(a,b){return g("post","/houses/"+a+"/groups.json",b)},accept_group:function(a,b){return g("post","/houses/"+a+"/groups/"+b+"/accept.json")},leave_group:function(a,b){return g("post","/houses/"+a+"/groups/"+b+"/leave.json")},join_group:function(a,b){return g("post","/houses/"+a+"/groups/"+b+"/join.json")},get_info:function(a){return g("get","/houses/"+a+".json")},get_users:function(a){return g("get","/houses/"+a+"/members.json?is_member=true")},verify_address:function(a,b){return g("post","/houses/"+a+"/verify.json",{code:b})}},messages:{get_messages:function(){return g("get","/messages.json")},new_messages:function(a){return g("post","/messages.json",a)},reply_message:function(a,b){return g("post","/messages/"+a+"/reply.json",b)},get_threads:function(a){return g("get","/messages/"+a+"/threads.json")}},notifications:{get_notifications:function(a){return g("get","/notifications.json?page="+a)},count_unload:function(){return g("get","/notifications/unload/count.json")},mark_as_read:function(a){return g("post","/notifications/"+a+"/read.json")}},requests:{new_request:function(a){return g("post","/requests.json",a)}}}}]),app.factory("HauserPublicService",["$http","$q",function(a,b){var c,d;return d=function(c,d,e){var f,g;return g={method:c,url:HauserAppSettings.apiBaseUrl+d,headers:{"Content-Type":"application/json"}},void 0!==e&&(g.data=e),f=b.defer(),a(g).then(function(a){return 200===a.status?f.resolve(a.data):void 0},function(a){return console.log(a),f.reject(a)}),f.promise},c={get_version:function(){return d("get","/version.json")}}}]),app.factory("UserService",["$http","$state","$cordovaFacebook","$q","$rootScope","$ionicLoading",function(a,b,c,d,e,f){var g,h,i;return g={},h=function(a){var c;return Hauser.User.setData(a.data),e.$broadcast("HAUSER_USER_LOGIN_SUCCESSFULLY"),c=Hauser.User.current_house(),b.go(c?c.is_verified?"menu.feed":"menu.house_verification":"user.confirm_address")},i=function(b){return f.show(),a.post(HauserAppSettings.apiBaseUrl+"/sessions/auth_with_facebook_token.json",{token:b}).then(function(a){return f.hide(),h(a)},function(a){return f.hide(),console.log("To do: Login not okie"),console.log(a)})},g.signInOrSignUpWithFacebook=function(){var a,b;return a=function(){return console.log("cordovaFbLogin"),c.login(["email"]).then(function(a){return a.authResponse?i(a.authResponse.accessToken):void console.log("error handleing for this")},function(a){return console.log(a)})},b=function(){return facebookConnectPlugin.browserInit(HauserAppSettings.facebookAppId),facebookConnectPlugin.login(["email"],function(a){return a.authResponse?i(a.authResponse.accessToken):void console.log("error handleing for this")},function(a){return console.log(a)})},window.cordova?a():b()},g.sign_up=function(b){var c;return c=d.defer(),f.show(),a.post(HauserAppSettings.apiBaseUrl+"/sessions/sign_up.json",b).then(function(a){return c.resolve(a),f.hide(),200===a.status?h(a):void 0},function(a){return f.hide(),c.reject(a)}),c.promise},g.sign_in=function(b){var c;return c=d.defer(),f.show(),a.post(HauserAppSettings.apiBaseUrl+"/sessions/sign_in.json",b).then(function(a){return c.resolve(a),f.hide(),200===a.status?h(a):void 0},function(a){return f.hide(),c.reject(a)}),c.promise},g}]),app.factory("HauserHelper",["$http","$q","$state","Notification",function(){var a;return a={},a.bookings={},a.bookings.default_booking_rules=function(){var a,b;return a={"7-8":!0,"8-9":!0,"9-10":!0,"10-11":!0,"11-12":!0,"12-13":!0,"13-14":!0,"14-15":!0,"15-16":!0,"16-17":!0,"17-18":!0,"18-19":!0,"19-20":!0,"20-21":!0,"21-22":!0,"22-23":!0},b={Su:a,Mo:a,Tu:a,We:a,Th:a,Fr:a,Sa:a}},a}]);